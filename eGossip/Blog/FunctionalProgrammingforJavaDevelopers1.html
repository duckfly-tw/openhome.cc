<!doctype html><html lang="en">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="In Understanding Lambda/Closure, I talked about what lambda/closure is, how different languages supp...">

<meta property="og:locale" content="en">
<meta property="og:title" content="Functional Programming for Java Developers, Part 1 - A Preliminary Study">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/eGossip/Blog/FunctionalProgrammingforJavaDevelopers1.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="In Understanding Lambda/Closure, I talked about what lambda/closure is, how different languages supp...">


    <title>Functional Programming for Java Developers, Part 1 - A Preliminary Study</title>

<link rel="stylesheet" href="../../Gossip/css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../../Gossip/css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../../Gossip/css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../../Gossip/css/caterpillar.css">
     <script async src="../../Gossip/google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="FunctionalProgrammingforJavaDevelopers1.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="index.html">&lt;&lt; Blog Picks</a>
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../../Gossip/images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../../Gossip/images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>Functional Programming for Java Developers, Part 1 - A Preliminary Study</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            
      
      <br>
      In <a href="index.html#UnderstandingLambdaClosure">Understanding Lambda/Closure</a>, I talked about what lambda/closure is, how different languages support it, and why JDK8 adopts the current lambda syntax. Using lambda wisely may be learned from languages already featured first-class functions. In those languages, however, most ideas of first-class functions come from functional programming directly or indirectly. Furthermore, the model of functional programming is based on lambda calculus. When moving yourself through these concepts one by one, you'll gradually know where the playground of lambda/closure is. <br>
      <br>
      In <a href="UnderstandingLambdaClosure6.html">Understanding Lambda/Closure, Part 6 - First Class Functions and Lambda Calculus</a>, we've introduced basic ideas about lambda calculus. From this article, we’ll look at what functional programming is and how to do that in Java. But, why should programmers learn about functional programming? <br>
      <br>
      In the article <a href="http://www.joelonsoftware.com/items/2006/08/01.html">Can Your Programming Language Do This?</a>, Joel Spolsky said that...<br>
      <br>
      <div style="margin-left: 40px;"><strong style="font-style: italic;">...programming languages with first-class functions let you find more opportunities for abstraction.</strong></div>
      &nbsp;&nbsp;&nbsp;&nbsp; <br>
      In the book <a href="http://www.codersatwork.com/">Coders at Work</a>, Simon Peyton Jones mentioned that...<br>
      &nbsp;&nbsp;&nbsp; <br>
      <div style="margin-left: 40px;"><em><strong>...the perspectives you learn over here in the purely functional world can inform and illuminate the mainstream.</strong></em></div>
      &nbsp;&nbsp;&nbsp; <br>
      In the book <a href="http://shop.oreilly.com/product/0636920021667.do">Functional Programming for Java Developers</a>, Dean Wampler listed five points in the first chapter "Why Function Programming?":<br>
      <ul>
        <li><em><strong>I Have to Be Good at Writing Concurrent Programs</strong></em></li>
        <li><em><strong>Most Programs Are Just Data Management Problems</strong></em></li>
        <li><em><strong>Functional Programming Is More Modular</strong></em></li>
        <li><em><strong>I Have to Work Faster and Faster</strong></em></li>
        <li><em><strong>Functional Programming Is a Return to Simplicity</strong></em></li>
      </ul>
      <br>
      The best way to know what these quotes mean is doing functional programming directly. First, let's see how to get a Fibonacci number. According to the <a

        href="http://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci number</a> page of Wikipedia…<br>
      <br>
      <div style="margin-left: 40px;"><span style="font-weight: bold;">In mathematical terms, the sequence <span

            class="courier">F<sub>n</sub></span> of Fibonacci numbers is defined by the recurrence relation <span

            class="courier">F<sub>n</sub> = F<sub>n-1</sub> + F<sub>n-2</sub></span> with seed values <span

            class="courier">F<sub>0</sub> = 0</span>, <span class="courier">F<sub>1</sub> = 1</span>.</span></div>
      <br>
      In imperative programming, we have to provide computers with steps about how to solve the problem. For example, we may use Java to implement a <span

        class="courier">static</span> method as follow:<br>
      <br>
      <div class="courier" style="margin-left: 40px;"> <span>static int fib(int n) {</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; if(n == 0 || n == 1) {</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return n;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; }</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; int a = 0; </span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; int b = 1;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; for(int i = 2; i &lt;= n; i++) {</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int tmp = b;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b = a + b;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a = tmp;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; }</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; return b;</span><span><br>
        </span><span> }</span></div>
      <br>
      In functional programming, we just have to define the problem. That is, declare the problem with your programing language. For example, using Java to declare the problem may be as follow:<br>
      <br>
      <div class="courier" style="margin-left: 40px;"><span>static int fib(int n) {</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; if(n == 0 || n == 1) {</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return n;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; }</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; return fib(n - 1) + fib(n - 2);</span><span><br>
        </span><span> }</span></div>
      <br>
      The code looks better when considering readability. Using a language which directly supports functional programming may further the readability. For example, the following Haskell implementation looks just like the mathematical definition of Fibonacci numbers.<br>
      <br>
      <pre class="prettyprint"><code>fib 0 = 0
fib 1 = 1
fib n = fib (n - 1) + fib (n - 2)</code></pre>
      <div class="courier" style="margin-left: 40px;"> <span><br>
        </span></div>
      But this function has poor performance. The number of recursive calls grows exponentially, because each call makes two of their own, and so on. We may use a special case of recursion - tail recursion - to rewrite this function. In tail recursion, a function either calls itself or returns in the final step. Fewer resources are consumed when adding a new stack frame to the call stack. For example, we don't need local variables anymore because we’re done with all computations; when we’re coming back from recursion, the same value is returned. The most important is that, functional languages often allow tail recursion elimination, such as replacing tail recursion with loops in compiler time or other runtime optimizations, so we can improve the performance. Using tail recursion to rewrite the function may be as follows:<br>
      <br>
      <pre class="prettyprint"><code>fib 0 = 0
fib 1 = 1
fib n = addPrevsRecusivelyUntilCounterIsN (fib 1) (fib 0) 2 n

addPrevsRecusivelyUntilCounterIsN prev1 prev2 counter n
    | counter == n = result
    | otherwise = addPrevsRecusivelyUntilCounterIsN result prev1 (counter + 1) n
    where result = prev1 + prev2</code></pre>
      <br>
      Well, tail recursion may come with some added complexity. There are almost conflicts between performance and readability. Even that, we still don't lose the basic principle of functional programming. Though the definition becomes more verbose, we still just define what the problem is. Using functional languages gives you more opportunities to find the balance between performance and readability. You may use tail recursion to write the previous Java function. The code, however, will be more complex, and Java doesn't support tail recursion elimination. <br>
      <br>
      The point here is that, you cannot just apply all concepts directly without any thinking if your language is not a functional language. Or, you may get half the result with twice the effort; your code may have bad readability and even poor performance. If you want to do purely functional programming, using functional languages is a good idea, such as Scala, Haskell, etc.<br>
      <br>
      How can we write code functionally with those not functional languages? Understanding the essence of functional programming can bring us knowing how to suitably adopt ideas of that. <br>
      <br>
      One apparent form in functional programming is recursion. But, the point is not recursion. The point is how to divide a problem into sub problems. Recursion is just and often a natural form after dividing a problem. Let's take an example about summing up a number list. Solving the problem imperatively requires commanding computers to initialize a variable sum to zero, get the next element of the list, add the element to sum until all elements are iterated, and then return sum. <br>
      <br>
      <div class="courier" style="margin-left: 40px;"> <span>static int sum(int... nums) {</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; int sum = 0;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; for(int num : nums) {</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sum += num;</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; }</span><span><br>
        </span><span> &nbsp;&nbsp;&nbsp; return sum;</span><span><br>
        </span><span> }</span><span><br>
        </span></div>
      <span> </span><br>
      How to solve the problem functionally? Let's rethink the problem of summing up a number list. A sub problem is what's the sum of an empty list. It's zero. The other sub problem is what's the sum of the head element <span

        class="courier">x</span> and the tail list <span class="courier">xs</span>. It's the sum of<span

        class="courier"> x</span> and the sum of <span class="courier">xs</span>. Let's write these two sub problems in Haskell.<br>
      <br>
      <pre class="prettyprint"><code>sum [] = 0
sum (x:xs) = x + sum xs </code></pre>
      <br>
      How to solve these two sub problems? You don't have to do that; Haskell will do that for you. You just have to define problems. <br>
      <br>
      "Wait! Wait! Wait! We're talking about Java...Please don't list those Haskell codes again...XD" Yes! But, object-oriented programming is the main paradigm of Java. Before using Java to solve this problem functionally, we should talk something about algebraic data types, common patterns when processing lists, and immutability. All of these will be covered in later articles...<br>
      <br>
      <br>
    <div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
    
        </article></main></div></body>
<script src="../../Gossip/js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
