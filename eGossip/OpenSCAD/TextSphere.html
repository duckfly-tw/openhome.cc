<!doctype html><html lang="en-us">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="You've known how to design Character tower generator. Would you like to challenge Text Sphere?

It's...">

<meta property="og:locale" content="en_US">
<meta property="og:title" content="Text and sphere">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/eGossip/OpenSCAD/TextSphere.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="You've known how to design Character tower generator. Would you like to challenge Text Sphere?

It's...">

    <title>Text and sphere</title>

<link rel="stylesheet" href="http://openhome.cc/Gossip/css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../../Gossip/css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="http://openhome.cc/Gossip/css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="http://openhome.cc/Gossip/css/caterpillar.css">
     <script async src="http://openhome.cc/Gossip/google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="TextSphere.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="http://openhome.cc/eGossip/OpenSCAD/index.html">&lt;&lt; OpenSCAD TOC</a>
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../../Gossip/images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../../Gossip/images/facebook.png"></a> </div><br> <div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>Text and sphere</h1>
        </header>

        <article class="content">
            <br><div class="ad-3" style="text-align: center;"><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            
            <p>You've known how to design <a href="TextCylinder.html">Character tower generator</a>. Would you like to challenge <a href="https://www.thingiverse.com/thing:1651681">Text Sphere</a>?</p>

<p>It's hard to print; however, <a href="https://www.thingiverse.com/thing:1639055/#made">some people still printed it beautifully</a>. I used supports while printing and the make seem acceptable.</p>

<h1>Getting started basics</h1>
<p>Wrapping text around a sphere requires more mathematics. Let's get started from basics. First, you have to rotate a list of cubes around the z-axis from 0 to 180 degrees.</p>
<pre class="prettyprint"><code lang="openscad">radius = 40;
step_angle = 10;
length = 5;
for(a = [0:step_angle:180]) {
    rotate([0, 0, a]) translate([radius, 0, 0]) 
        cube([length, length, length], center = true);
}
</code></pre>
<p>It's a very simple program. We create the model below.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-1.JPG" alt="Text and sphere"  /></div></div></p>
<p>If the cubes rotate not only around the z-axis but also the y-axis, what will it be? For example, rotate -45 degrees around the y-axis at the same time.</p>
<pre class="prettyprint"><code lang="openscad">radius = 40;
step_angle = 10;
length = 5;
for(a = [0:step_angle:180]) {
    rotate([0, -45, a]) translate([radius, 0, 0]) 
        cube([length, length, length], center = true);
}
%sphere(radius);
</code></pre>
<p>The arc now appears at the place where the vector is 45 degrees to the x-y plane. I add a transparent sphere to highlight this situation.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-4.JPG" alt="Text and sphere"  /></div></div></p>
<p>You can try numbers other than 45, such as 30 or 60, to move the arc to the place where the vector is 30 or 60 degrees to the x-y plane respectively.</p>
<p>When rotating around the y-axis, if you increase angle from -90 to 90 degrees, the cubes will be wrapped around the sphere.</p>
<p>          <pre class="prettyprint"><code lang="openscad">radius = 40;
step_angle = 10;
length = 5;
for(a = [0:step_angle:180]) {
    rotate([0, -90 + a, a]) translate([radius, 0, 0]) 
        cube([length, length, length], center = true);
}
%sphere(radius);
</code></pre></p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-2.JPG" alt="Text and sphere"  /></div></div></p>
<p>If the <code>step_angle</code> parameter has a smaller value, what will happen?</p>
<pre class="prettyprint"><code lang="openscad">radius = 40;
step_angle = 0.25;
length = 5;
for(a = [0:step_angle:180]) {
    rotate([0, -90 + a, a]) translate([radius, 0, 0]) 
        cube([length, length, length], center = true);
}
%sphere(radius);
</code></pre>
<p>We have a spiral.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-3.JPG" alt="Text and sphere"  /></div></div></p>
<p>Try to repeat the spiral eight times and rotate them around the z-axis 45, 90, 135, 180 and so on. You'll know how to create the spirals of  <a href="http://www.thingiverse.com/thing:1681678">Spinning picture ornament</a>.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="http://thingiverse-production-new.s3.amazonaws.com/renders/d5/c4/fe/1f/9b/44d1c379100277e73f36c1462fa941be_preview_featured.jpg" alt="Text and sphere"  /></div></div></p>
<p>As mentioned in <a href="Polyline3D.html">3D line</a>, we have an elegant way to create these spirals. If you forget, review the document again.</p>
<h1>Wrapping text around a sphere</h1>
<p>Now it's time to replace cubes by characters. The font size is set to 10 temporarily. Let's see how it looks.</p>
<pre class="prettyprint"><code lang="openscad">radius = 40;
step_angle = 10;
font_size = 10;
thickness = 1;

for(a = [0:step_angle:180]) {
    rotate([0, -90 + a, a]) translate([radius, 0, 0]) 
        rotate([90, 0, 90]) 
            linear_extrude(thickness) 
                 text("A", size = font_size, valign = "center", halign = "center");
}
%sphere(radius);
</code></pre>
<p>Wow, we have characters around a sphere.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-5.JPG" alt="Text and sphere"  /></div></div></p>
<p>But, it seems still different from <a href="https://www.thingiverse.com/thing:1651681">Text sphere</a>. One reason is that the characters drop too quickly. The other reason is that the characters only rotate 180 degrees around the z-axis. The characters of <a href="https://www.thingiverse.com/thing:1651681">Text sphere</a> turns many circles around the z-axis.</p>
<p>We can't only decrease the <code>step_angle</code> value because it only slows down the speed around the y-axis and the total degrees the characters rotate around the z-axis is still 180.</p>
<p>If the whole degrees around the z-axis remain 180 first and the degrees around the y-axis are from -90 to 90, what will it be?</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-6.JPG" alt="Text and sphere"  /></div></div></p>
<p>Umm, the characters stop on the x-y plane. That's because we only rotate 180 degrees around the z-axis. If we want to stop at the bottom of the sphere, we just have to increase 180 to 360 degrees. If we only increase 45, that's 180 / 4, from -90 degrees around the y-axis, we have to rotate 180 * 4  degrees around the z-axis to make the characters stop at the bottom of the sphere. You might have noticed that there's an inversely proportional relationship here so that we can write down the code below.</p>
<pre class="prettyprint"><code lang="openscad">radius = 40;
step_angle = 10;
font_size = 10;
thickness = 1;

total_semi_circles = 15;

for(a = [0:step_angle:180 * total_semi_circles]) {
    rotate([0, -90 + a / total_semi_circles, a]) translate([radius, 0, 0]) 
        rotate([90, 0, 90]) 
            linear_extrude(thickness) 
                text("A", size = font_size, valign = "center", halign = "center");
}
%sphere(radius);
</code></pre>
<p>Ya! A sphere wrapped by characters is out.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-7.JPG" alt="Text and sphere"  /></div></div></p>
<p>You can change the <code>total_semi_circles</code> value. The bigger it is, the more intensive characters are. <a href="https://www.thingiverse.com/thing:1651681">Text sphere</a> has an open rim. We can adjust the initial value of <code>a</code> to decide its radius.</p>
<pre class="prettyprint"><code lang="openscad">radius = 40;
step_angle = 10;
font_size = 10;
thickness = 1;

total_semi_circles = 15;
open_begin = 500;

for(a = [open_begin:step_angle:180 * total_semi_circles]) {
    rotate([0, -90 + a / total_semi_circles, a]) translate([radius, 0, 0]) 
        rotate([90, 0, 90]) 
            linear_extrude(thickness) 
                text("A", size = font_size, valign = "center", halign = "center");
}
%sphere(radius);
</code></pre>
<p>The result is as below.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-8.JPG" alt="Text and sphere"  /></div></div></p>
<p>You may choose suitable parameters until the characters have acceptable intensity. Then, you'll have your text sphere.</p>
<h1>Advanced control</h1>
<p>I can close this case here, and that's what I did for my work on Thingiverse. But, how to choose suitable parameters? Hmm, just try and error until the model looks good.</p>
<p>A good look here means that the characters don't overlap and the height between the upper layer and the lower layer is the size of a character. Moreover, we have an acceptable radius of the open rim. Isn't there a way to calculate these values automatically? In fact, there's a way to do that, but I was just too lazy to go further at that time :p</p>
<p>Let's try to realize the first requirement. We hope that the characters don't overlap. First, we should decide that how many characters a circle has and what the angle of the rim is. After that, we can calculate the circumference of the rim.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-9.JPG" alt="Text and sphere"  /></div></div></p>
<p>Suppose <code>angle</code> has the relationship.</p>
<pre class="prettyprint"><code lang="openscad">angle = 180 * open_begin_ratio;
</code></pre>
<p>The circumference of the rim is <code>2 * PI * (radius * sin(angle))</code>. If each circle has <code>chars_per_circle</code> characters, the <code>font_size</code> has the relationship.</p>
<pre class="prettyprint"><code lang="openscad">font_size = 2 * PI * radius * sin(angle) / chars_per_circle;
</code></pre>
<p>The angle between two characters is:</p>
<pre class="prettyprint"><code lang="openscad">step_angle = 360 / chars_per_circle;
</code></pre>
<p>Now we have to decide the first value of <code>a</code>. Still remember the figure below?</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-4.JPG" alt="Text and sphere"  /></div></div></p>
<p>Suppose we want to start from 45 degrees. That is, we want <code>-90 + a / total_semi_circles = -45</code>, so <code>a / total_semi_circles = 45</code>. If we use <code>angle</code> to replace the value 45, we have <code>a / total_semi_circles = angle</code>, so <code>a = angle * total_semi_circles</code>. The first value of <code>a</code> is &hellip;</p>
<pre class="prettyprint"><code lang="openscad">begin_angle = angle * total_semi_circles;
</code></pre>
<p>How about the <code>total_semi_circles</code>? After rotating a circle, the character of the upper layer should be on the top of the character of the lower layer. So, the total layers are <code>2 * PI * radius / font_size</code>.</p>
<pre class="prettyprint"><code lang="openscad">total_semi_circles = 2 * PI * radius / font_size;
</code></pre>
<p>Based on the above, we can rewrite the code below.</p>
<pre class="prettyprint"><code lang="openscad">radius = 40;
thickness = 1;
chars_per_circle = 20;
open_begin_ratio = 0.25;

angle = 180 * open_begin_ratio;
font_size = 2 * PI * radius * sin(angle) / chars_per_circle;
step_angle = 360 / chars_per_circle;
total_semi_circles = 2 * PI * radius / font_size;
begin_angle = angle * total_semi_circles;

for(a = [begin_angle:step_angle:180 * total_semi_circles]) {
    rotate([0, -90 + a / total_semi_circles, a]) translate([radius, 0, 0]) 
        rotate([90, 0, 90]) 
            linear_extrude(thickness) 
                text("A", size = font_size, valign = "center", halign = "center");
}
%sphere(radius);
</code></pre>
<p>Finally, we have the text sphere.</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/TextSphere-10.JPG" alt="Text and sphere"  /></div></div></p>
<p>Now that, you just have to decide the values of <code>radius</code>, <code>thickness</code>, <code>chars_per_circle</code> and <code>open_begin_ratio</code>. Other required values will be calculated automatically. It's friendly for normal users.</p>
<p>Of course, mathematics is the challenge; however, it's also the joy of modeling. You have to observe, think, look for the relationship and solve them respectively. Not only mathematics needs this process but also modeling needs this process, so does programming. What you are playing all need this process.</p>
<p>If this process happens, you design will carry an in-depth meaning. The design will have a soul!</p>

            
           <br><br><div class="ad336-280" style="text-align: center;"><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article></main></div></body>
<script src="http://openhome.cc/Gossip/js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
