<!doctype html><html lang="en-us">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The CSS position property specifies the positioning method used for an element. The default value of...">

<meta property="og:locale" content="en_US">
<meta property="og:title" content="Element Positions">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/eGossip/Blog/ElementPositions.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="The CSS position property specifies the positioning method used for an element. The default value of...">


    <title>Element Positions</title>

<link rel="stylesheet" href="http://openhome.cc/Gossip/css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../../Gossip/css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="http://openhome.cc/Gossip/css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="http://openhome.cc/Gossip/css/caterpillar.css">
     <script async src="http://openhome.cc/Gossip/google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="ElementPositions.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="index.html">&lt;&lt; JavaScript TOC</a>
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../../Gossip/images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../../Gossip/images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>Element Positions</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            
      
      <br>
      The CSS <span class="courier">position</span> property specifies the positioning method used for an element. The default value of most elements is <span

        class="courier">static</span>, which renders elements in order in the document flow. Other allowed values include <span

        class="courier">relative</span>, <span class="courier">absolute</span>, <span

        class="courier">fixed</span>, and <span class="courier">inherit</span>. <br>
      <br>
      The position of an element is determined by its <span class="courier">top/left</span> or <span

        class="courier">bottom/right</span> properties. The <span class="courier">top</span> property is the vertical distance from the origin; the positive direction is downward. The <span

        class="courier">left</span> property is the horizontal distance from the origin; the positive direction is rightward. The <span

        class="courier">bottom</span> property is the vertical distance from the origin; the positive direction is upward. The <span

        class="courier">right</span> property is the horizontal distance from the origin; the positive direction is leftward.<br>
      <br>
      An element with <span class="courier">position: absolute</span> is placed relative to the first parent element with a position setting other than <span

        class="courier">static</span>. Absolutely positioned elements can stack together. The <span

        class="courier">z-index</span> property is used to define the stack order. An element with a greater <span

        class="courier">z-index</span> will stack on top of an element with a lower <span

        class="courier">z-index</span>. The default <span class="courier">z-index</span> is the element's defined order in the document; the lately-defined element has a greater <span

        class="courier">z-index</span>. <br>
      <br>
      The following example uses <span class="courier">position: absolute</span> with the <span

        class="courier">top</span>, <span class="courier">left</span>, and <span

        class="courier">z-index</span> properties. Clicking anywhere in the document can change the position of the "message 1" element. Clicking one of the <span

        class="courier">div</span> elements can increase its <span class="courier">z-index</span>. <br>
      <ul>
        <li><a href="samples/ElementPositions-1.html">ElementPositions-1.html</a></li>
      </ul>
      <pre class="prettyprint"><code lang="javascript">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN"&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta content="text/html; charset=UTF-8" http-equiv="content-type"&gt;
        &lt;style type="text/css"&gt;
            #message1 {
                color: #ffffff;
                background-color: #ff0000;
                border-width: 10px;
                border-color: black;
                border-style: solid;
                width: 100px;
                height: 50px;
                padding: 50px;
                margin: 10px;
                position: absolute;
                top: 50px;
                left: 50px;
                z-index: 0;                
            }
            #message2 {
                color: #ffffff;
                background-color: #ff0000;
                border-width: 10px;
                border-color: black;
                border-style: solid;
                width: 100px;
                height: 50px;
                padding: 50px;
                margin: 10px;
                position: absolute;
                top: 150px;
                left: 150px;
                z-index: 0;                
            }
        &lt;/style&gt;
        &lt;script type="text/javascript"&gt;
            window.onload = function(event) {
                var message1 = document.getElementById('message1');
                var message2 = document.getElementById('message2');
                
                document.onclick = function(event) {
                    event = event || window.event;
                    message1.style.left = event.clientX + 'px';
                    message1.style.top = event.clientY + 'px';
                };
                
                function stopPropagation(event) {
                    if(event) {
                        event.stopPropagation();
                    }
                    else {
                        window.event.cancelBubble = true;
                    }
                }
                
                message1.onclick = function(event) {
                    this.style.zIndex = 1;
                    message2.style.zIndex = 0;
                    stopPropagation(event);
                };
                
                message2.onclick = function(event) {
                    this.style.zIndex = 1;
                    message1.style.zIndex = 0;
                    stopPropagation(event);
                };
            };
        &lt;/script&gt;        
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="message1"&gt;message 1&lt;/div&gt;
        &lt;div id="message2"&gt;message 2&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
      <br>
      An element with <span class="courier">position: relative</span> is placed relative to its normal position. The relative position is defined using <span

        class="courier">top/left</span> or <span class="courier">bottom/right</span>. For example, if an element's normal position is <span

        class="courier">100px</span> * <span class="courier">50px</span> and its <span

        class="courier">position</span> is <span class="courier">relative</span>, setting <span

        class="courier">top: 20px</span> and <span class="courier">left: 30px</span> will position the element in (100 + 20) * (50 + 30) = <span

        class="courier">120px</span> * <span class="courier">80px</span>.<br>
      <br>
      A <span class="courier">fixed</span> positioned element is placed relative to the browser view-port. For example, if you want to keep an element positioned in <span

        class="courier">100px</span> * <span class="courier">50px</span> of the view-port after scrolling the document, you can set <span

        class="courier">position: fixed</span>. Then, the <span class="courier">top/left</span> or <span

        class="courier">bottom/right</span> settings are relative to the view-port. Internet Explorer 6 browser doesn't support the <span

        class="courier">fixed</span> value; Internet Explorer 7 and 8 support this setting only if a <span

        class="courier">&lt;!DOCTYPE&gt;</span> is specified.<br>
      <br>
      To get the exact position of an element, we should figure out the element's <span

        class="courier">offsetParent</span>. The <span class="courier">offsetParent</span> isn't the direct parent of an element; it returns the first positioned parent element in the DOM hierarchy. <br>
      <br>
      Every element has the <span class="courier">offsetTop</span> and <span

        class="courier">offsetLeft</span> properties. They represent the distances from the upper left corner of the <span

        class="courier">offsetParent</span> element's outer border. The following example demonstrates how to calculate the exact position of an element in the simple layout. <br>
      <ul>
        <li><a href="samples/ElementPositions-2.html">ElementPositions-2.html</a></li>
      </ul>
      <pre class="prettyprint"><code lang="javascript">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN"&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta content="text/html; charset=UTF-8" http-equiv="content-type"&gt;
        &lt;style type="text/css"&gt;
            #container {
                color: #ffffff;
                background-color: #ff0000;
                border-width: 10px;
                border-color: black;
                border-style: solid;
                width: 100px;
                height: 50px;
                padding: 50px;
                position: absolute;
                top: 50px;
                left: 50px;
            }
            #message {
                position: static;
                top: 20px;
                left: 20px;
            }
        &lt;/style&gt;
        &lt;script type="text/javascript"&gt;
            window.onload = function(event) {
                function offset(element) {
                    var x = 0;
                    var y = 0;
                    while(element) {
                        x += element.offsetLeft;
                        y += element.offsetTop;
                        element = element.offsetParent;
                    }
                    return { 
                        x: x, 
                        y: y, 
                        toString: function() {
                            return '(' + this.x + ', ' + this.y + ')';
                        }
                    };
                }
                
                document.onclick = function(event) {
                    event = event || window.event;
                    var container = document.getElementById('container');
                    container.style.left = event.clientX + 'px';
                    container.style.top = event.clientY + 'px';
                    var message = document.getElementById('message');
                    var console = document.getElementById('console');
                    console.innerHTML = offset(message);
                };                
            };
        &lt;/script&gt;        
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="container"&gt;&lt;span id="message"&gt;This is a message&lt;span&gt;&lt;/div&gt;
        &lt;span id="console"&gt;&lt;/span&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
      <br>
      One example which requires the exact position of an element is the search box suggestions. You need to know the search box's position, and then show the suggested keywords below the search box. The following example is a simple demonstration:<br>
      <ul>
        <li><a href="samples/ElementPositions-3.html">ElementPositions-3.html</a></li>
      </ul>
      <pre class="prettyprint"><code lang="javascript">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN"&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta content="text/html; charset=UTF-8" http-equiv="content-type"&gt;
        &lt;style type="text/css"&gt;
            #container {
                color: #ffffff;
                background-color: #ff0000;
                height: 50px;
                position: absolute;
                top: -100px;
                left:-100px;
            }
        &lt;/style&gt;
        &lt;script type="text/javascript"&gt;
            window.onload = function(event) {
                function offset(element) {
                    var x = 0;
                    var y = 0;
                    while(element) {
                        x += element.offsetLeft;
                        y += element.offsetTop;
                        element = element.offsetParent;
                    }
                    return { 
                        x: x, 
                        y: y, 
                        toString: function() {
                            return '(' + this.x + ', ' + this.y + ')';
                        }
                    };
                }
                var input = document.getElementById('search');
                var search = offset(input);
                var container = document.getElementById('container');
                container.style.left = search.x + 'px';
                container.style.top = search.y + input.offsetHeight + 'px';
                container.style.width = input.offsetWidth + 'px';
            };
        &lt;/script&gt;        
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="container"&gt;This is a message&lt;/div&gt;
        &lt;hr&gt;
        Search: &lt;input id="search" type="text"&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
      <br>
      Unfortunately, the <span class="courier">offsetParent</span> property has the problem of browser compatibility. In Firefox, the <span

        class="courier">offsetParent</span> property of an <span class="courier">absolute</span> or <span

        class="courier">fixed</span> positioned element returns the <span

        class="courier">body</span> element. The <span class="courier">offsetParent</span> property of a <span

        class="courier">static</span> or <span class="courier">relative</span> positioned element returns the first positioned parent element. But, the <span

        class="courier">offsetParent</span> property of a <span class="courier">relative</span> positioned element returns different elements in different versions of Internet Explorer.<br>
      <br>
      Besides, getting the exact position of an element will becomes more complex in a more complex layout. For example, the CSS <span

        class="courier">overflow</span> property may set a scroll bar, but the offset amount doesn't consider the scroll bar position. If you set the CSS <span

        class="courier">overflow</span> property, you should take the scroll bar into consideration. For example: <br>
      <div class="courier" style="margin-left: 40px;"><span><strong>function offset(element) {</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; var x = 0;</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; var y = 0;</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; for(var e = element; e; e = e.offsetParent) {</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x += e.offsetLeft;</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y += e.offsetTop;</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; }</strong></span><span><strong><br>
          </strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; // consider a scroll bar's offset</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; for(var e = element.parentNode; e &amp;&amp; e != document.body; e = e.parentNode) {</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(e.scrollLeft) {</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x -= e.scrollLeft;</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(e.scrollTop) {</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y -= e.scrollTop;</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; }</strong></span><span><strong><br>
          </strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; return { </strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x: x, </strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y: y, </strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toString: function() {</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return '(' + this.x + ', ' + this.y + ')';</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</strong></span><span><strong><br>
          </strong></span><span><strong>&nbsp;&nbsp;&nbsp; };</strong></span><span><strong><br>
          </strong></span><span><strong>}</strong></span><strong><br>
        </strong></div>
  <div class="recommend" style="text-align: center;"><hr><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article></main></div></body>
<script src="http://openhome.cc/Gossip/js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
