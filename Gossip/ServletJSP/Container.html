<!DOCTYPE html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="對於Java程式而言，JVM（Java Virtual Machine）是其作業系統，.java 編譯為 .class 檔案，.class 對於 JVM 而言，就是其可執行檔，你的 Java 程式基本...">

    <meta property="og:locale" content="zh_TW">
    <meta property="og:title" content="何謂容器">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://openhome.cc/Gossip/ServletJSP/Container.html">
    <meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
    <meta property="og:site_name" content="OPENHOME.CC">
    <meta property="og:description" content="對於Java程式而言，JVM（Java Virtual Machine）是其作業系統，.java 編譯為 .class 檔案，.class 對於 JVM 而言，就是其可執行檔，你的 Java 程式基本...">

    <title>何謂容器</title>

    <link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
     <!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="Container.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="index.html">回 Servlet/JSP</a>
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br> <div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>何謂容器</h1>
        </header>

        <article class="content">
            <br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            
            <p>對於Java程式而言，JVM（Java Virtual Machine）是其作業系統，.java 編譯為 .class 檔案，.class 對於 JVM 而言，就是其可執行檔，你的 Java 程式基本上只認得一種作業系統，就是 JVM。</p>
<p>當你開始撰寫 Servlet/JSP 程式時，你必須開始接觸容器（Container）的概念，容器這個名詞也用在如 <code>List</code>、<code>Set</code> 這類的 <code>Collection</code> 上，也就是用來持有、保存物件的群集（Collection）物件，不過，對於撰寫 Servlet/JSP 來說，容器的概念更為廣泛，在最基本的功能上，它不僅持有物件，還負責物件的生命周期與相關服務的連結。</p>
<p>在具體層面，容器說穿了，其實就是一個用 Java 寫的程式，運行於 JVM 之上，不同類型的容器會負責不同的工作，若以 Servlet/JSP 所運行的 Web 容器（Web Container）來說，也是一個 Java 寫的程式，想想看，HTTP 那些文字性的通訊協定，如何變成你寫的 Servlet/JSP 中可用的 Java 物件（如 <code>HttpServletRequest</code>、<code>HttpServletResponse</code> 等），其實就是容器為你剖析與轉換。</p>
<p>在抽象層面，可以將 Web 容器視為你寫的 Servlet/JSP 的運行伺服器，是的！就如同 Java 程式僅認得 JVM 這個作業系統，Servlet/JSP 程式在抽象層面上，也僅認得 Web 容器這個概念上的 Web 伺服器，只要你寫的 Servlet/JSP 是符合 Web 容器的標準規範，你的 Servlet/JSP 就可以在各種不同廠商實作的 Web 容器上運行，而不用理會底層真正的 Web 伺服器。</p>
<p>當然，實際上還是要有個 Web 伺服器，所以回到實際層面，Web 容器是個 Java 寫的應用程式，可以成為實體 Web 伺服器程式的一部份，管理 Servlet 物件的生命週期，提供基於 HTTP 請求、回應的網路服務。</p>
<p>若以 Tomcat 為例，容器的角色位置可以用下圖來表示：</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/Container-1.JPG" alt="何謂容器"  /></div></div></p>
<p>就如同 JVM 介於 Java 程式與實體作業系統之間，Web 容器是介於實體 Web 伺服器與 Servlet 之間，也正如你撰寫 Java 程式必須了解 JVM/JRE 與你的應用程式之間如何互動，你撰寫 Servlet/JSP 也必須知道容器如何與你的 Servlet/JSP 互動，如何管理 Servlet 等事實（JSP最後也是轉譯、編譯、載入為 Servlet，在容器的世界中，真正負責請求、回應的是 Servlet）。</p>
<p>一個請求/回應的基本例子是：</p>
<ol>
<li>客戶端（大部份情況下是瀏覽器）對 Web 伺服器發出 HTTP 請求。</li>
<li>Web 伺服器收到 HTTP 請求，將請求轉由 Web 容器處理，Web 容器會剖析 HTTP 請求內容，建立各種物件（像是 <code>HttpServletRequest</code>、<code>HttpServletResponse</code>、<code>HttpSession</code> 等）。</li>
<li>Web 容器由請求的 URL 決定要使用哪個 Servlet 來處理請求（事先由開發人員定義）。</li>
<li>Servlet 根據請求物件（<code>HttpServletRequest</code>）的資訊決定如何處理，透過回應物件（<code>HttpServletResponse</code>）來建立回應。</li>
<li>Web 容器與 Web 伺服器溝通，Web 伺服器將回應轉換為 HTTP 回應並傳回客戶端。</li>
</ol>
<p>不僅是寫 Servet/JSP 需要理解 Web 容器，在 Java EE 的領域無論是哪個技術，都與容器息息相關，寫 Servlet/JSP 需要理解 Web 容器，寫 EJB 需要了解 EJB 容器，寫應用程式客戶端需要了解應用程式客戶端容器。</p>
<p>下圖是摘自 <a href="https://javaee.github.io/tutorial/toc.html">Java EE 8 Tutorial</a> 中 <a href="https://javaee.github.io/tutorial/overview005.html">Java EE Containers</a> 文件的容器示意：</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="https://javaee.github.io/tutorial/img/javaeett_dt_005.png" alt="Java EE Server and Containers"  /></div></div></p>
<p>對於 Java EE 8 規範中 Servlet 4.0/JSP 2.3 等，你可以使用的實際容器可以是 Tomcat 9，或者是Glassfish 5，Tomcat 9 專注在 Web 容器的部份，Glassfish 5 是個完整的應用程式伺服器，當然也包括了 Web 容器的功能（當然，也還有其它廠商的實現）。</p>

            
           <br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article>
    </main>
</div></body>
</html>
<script src="../js/ui.js"></script>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
