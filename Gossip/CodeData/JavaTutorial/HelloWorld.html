<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Java Tutorial 第一堂（2）準備課程環境&nbsp;&lt;&lt; 前情
      
      
      接下來要準備「撰寫、編譯與執行」第一個 Java 程式。Java ...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="Java Tutorial 第一堂（3）哈囉！世界！">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/CodeData/JavaTutorial/HelloWorld.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="Java Tutorial 第一堂（2）準備課程環境&nbsp;&lt;&lt; 前情
      
      
      接下來要準備「撰寫、編譯與執行」第一個 Java 程式。Java ...">


    <title>Java Tutorial 第一堂（3）哈囉！世界！</title>

<link rel="stylesheet" href="http://openhome.cc/Gossip/css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="http://openhome.cc/Gossip/css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="http://openhome.cc/Gossip/css/caterpillar.css">
     <script async src="http://openhome.cc/Gossip/google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="HelloWorld.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="http://openhome.cc/Gossip/CodeData/JavaTutorial/">回 Java Tutorial</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>Java Tutorial 第一堂（3）哈囉！世界！</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
             
      <br>
      <br>
      接下來要準備「撰寫、編譯與執行」第一個 Java 程式。<strong>Java 的原始碼副檔名必須是 .java，經由編譯器將之編譯為副檔名為 .class 的位元碼（Bytecode）檔案</strong>。
      <span style="color: #ff0000;"><strong><br>
          <br>
          練習 3：哈囉！世界！</strong></span>
      <br>
      <br>
      雖然你可以將 Java 原始碼 .java 檔案與編譯出來的 .class 位元碼檔案，放在同一個目錄底下，不過這邊一開始就要你將原始碼與位元碼檔案分開在兩個目錄底下管理，這會讓你一開始就得認識幾個編譯與執行時的引數，也讓第一個程式有些挑戰性。
      <br>
      <br>
      你可以執行以下指令來建立、進入專案目錄 Hello、原始碼目錄 src、位元碼目錄 classes，並開始編輯第一個 Java 原始碼：
      <pre class="prettyprint"><code lang="java">~$ mkdir Hello
~$ cd Hello
~/Hello$ mkdir src
~/Hello$ mkdir classes
~/Hello$ st2 src/HelloWorld.java</code></pre>
      <br>
      HelloWorld.java 的內容如下，<strong>留意一下你的程式碼中大小寫必須與這邊的範例一致</strong>：
      <pre class="prettyprint"><code lang="java">import java.nio.charset.Charset;
import java.io.IOException;
import java.nio.file.*;
import static java.lang.System.*;

public class HelloWorld {
    public static void main(String[] args) {
        Path source = Paths.get(args[0]);
        Charset charset = Charset.forName("UTF-8");
        try {
           for(String line : Files.readAllLines(source, charset)) {
               out.println(line);
           }
        } catch(IOException ex) {
           err.println(ex.getMessage());
        }
    }
}</code></pre>
      <br>
      編輯完成後存檔，這邊暫不解釋程式碼的細節。附帶一提，練習的程式碼成果，都可以在上一篇中，從 Github 下載的 <a href="https://github.com/codedata/JavaTutorial.git">JavaTutorial</a> 中取得，舉例來說，這個練習的成果，可以在其中的 labs/solutions/exercise3 中取得。接著你得編譯 src/HelloWorld.java 原始碼，並將編譯後的位元碼儲存為 classes/HelloWorld.class：
      <pre class="prettyprint"><code lang="java">~/Hello$ javac -d classes src/HelloWorld.java</code></pre>
      <strong><br>
        編譯時使用 javac 編譯器，<code>-d</code> 引數指定了位元碼的存放位置為 <code>classes</code></strong>，如果編譯成功，classes 中就會出現 HelloWorld.class 檔案。
      <br>
      <br>
      接著，使用 gedit 編輯任何一個檔案，我這邊存為 hello 檔案：
      <pre class="prettyprint"><code lang="java">~/Hello$ gedit hello</code></pre>
      <br>
      寫寫一些文字（中文英文都可以）之後存檔，我在裏頭寫著「哈囉！世界！」。嗯？我們不是安裝了 Sublime Text 2 嗎？是沒錯，不過要讓前一篇文章中安裝的 Sublime Text 2 可以輸入中文，會是另一個故事了（顯示倒是沒問題），所以，這邊還是先使用一下 gedit。接著你可以執行以下指令，來讀取並顯示 hello 檔案中的文字：
      <pre class="prettyprint"><code lang="java">~/Hello$ java -cp classes HelloWorld hello</code></pre>
      <strong><br>
        執行 <code>java</code> 指令是啟動一個 JVM，<code>-cp</code> 是 <code>-classpath</code> 的縮寫，<code>CLASSPATH</code> 是類別路徑，這告訴 JVM，可以至哪些目錄中，找到位元碼檔案</strong>。上面的指令指定從 <code>HelloWorld</code> 位元碼檔案的 <code>main</code> 開始執行，最後的 <code>hello</code> 是給位元碼檔案的<strong>命令列引數（Command line argument）</strong>，你指定的命令列引數，會依序儲存為 <code>main</code> 中的字串陣列元素。如果指令無誤且執行正確，你應該可以看到以下畫面：
      <a href="images/java-tutorial-the-1st-class-3-1.png"><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" class="alignnone size-full wp-image-2628"

          alt="java-tutorial-the-1st-class-3-1" src="images/java-tutorial-the-1st-class-3-1.png"

          height="108" width="658" /></div></div></a>
      <span style="color: #ff0000;"><strong><br>
          <br>
          練習 4：使用 Gradle 的哈囉！世界！</strong></span>
      <br>
      <br>
      顯然地，Java 程式必須經過撰寫、編譯、執行這幾個步驟有些麻煩，實際上在編譯 .java 原始碼時，如果有多個 .java 檔案及已經編譯完成的 .class 檔案的話，還必須指定 <code>-classpath</code> 及 <code>-sourcepath</code>，你可以使用建構（Build）工具來簡化並自動化這個流程，像是使用前一篇文章下載安裝的 Gradle。
      <br>
      <br>
      為了符合 Gradle 專案的慣例，先依以下指令來調整原始碼的位置：
      <pre class="prettyprint"><code lang="java">~/Hello$ mkdir -p src/main/java
~/Hello$ mv src/HelloWorld.java src/main/java/
~/Hello$ rm -r classes</code></pre>
      <strong><br>
        Gradle 的慣例期待你的 .java 原始碼會置放在 src/main/java 目錄中，編譯出來的 .class 檔案會放置在 build\classes\main 中</strong>，不過你不用自行建立這個目錄，Gradle 稍後會自行為你建立。
      <br>
      <br>
      你需要在專案目錄下建立一個 build.gradle 檔案，內容如下：
      <pre class="prettyprint"><code lang="java">apply plugin: 'java'
apply plugin:'application'
mainClassName = "HelloWorld"

run {
    args fileName
}</code></pre>
      <strong><code><br>
          'java'</code> 的 plugin 為 Gradle 專案加入了 Java 語言的原始碼編譯、測試與打包（Bundle）等能力；<code>'application'</code> 的 plugin 則擴充了語言常用的相關任務（Task），像是執行應用程式等；<code>mainClassName</code> 指出了從哪個位元碼檔案的 <code>main</code> 開始執行。<code>run</code> 這個任務中，使用 <code>args</code> 指定了執行位元碼檔案時給定的命令列引數。</strong>
      <br>
      <br>
      撰寫並儲存 build.gradle 檔案之後，可以如下執行 Gradle：
      <pre class="prettyprint"><code lang="java">~/Hello$ gradle run -PfileName=hello</code></pre>
      <strong><code><br>
          -PfileName=hello</code> 指定了 <code>fileName</code> 參數的值為 <code>'hello'</code>，這也就是先前 <code>run</code> 任務中的 <code>fileName</code> 參數</strong>。如果執行正確無誤，你將可以看到以下畫面（完成後順便檢視專案底下 Gradle 為你產生的 build 目錄中有哪些東西）：
      <br>
      <br>
      <a href="images/java-tutorial-the-1st-class-3-2.png"><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" class="alignnone size-full wp-image-2629"

          alt="java-tutorial-the-1st-class-3-2" src="images/java-tutorial-the-1st-class-3-2.png"

          height="215" width="654" /></div></div></a>
      <br>
      <br>
      從這邊的兩個練習，你也瞭解了 一個 Java 專案的建立、原始碼的撰寫、位元碼的編譯與執行等基本必要的動作（而不是傻瓜式的哈囉！世界！），也知道如何使用建構工具來簡化、自動化這個過程。
      <br>
      <br>
      第一堂課差不多快下課了，剩下的時間，我們來瞭解一下剛剛的 HelloWorld.java 寫了什麼，這是下一篇文章的內容了。
      <br>
      <br><br><br><div class="ad336-280" style="text-align: center;"><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></article></main></div></body>
<script src="http://openhome.cc/Gossip/js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
