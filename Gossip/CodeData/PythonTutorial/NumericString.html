<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Python 2 Tutorial 第一堂（4）Unicode 支援、基本 I/O&nbsp;&lt;&lt; 前情 
            第二堂上課囉！在知道怎麼撰寫、執行第一個 Python...">
    <meta property="og:locale" content="zh_TW">
    <meta property="og:title" content="Python 2 Tutorial 第二堂（1）數值與字串型態">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://openhome.cc/Gossip/CodeData/PythonTutorial/NumericString.html">
    <meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
    <meta property="og:site_name" content="OPENHOME.CC">
    <meta property="og:description" content="Python 2 Tutorial 第一堂（4）Unicode 支援、基本 I/O&nbsp;&lt;&lt; 前情 
            第二堂上課囉！在知道怎麼撰寫、執行第一個 Python...">
    <title>Python 2 Tutorial 第二堂（1）數值與字串型態</title>
    <link rel="stylesheet" href="http://openhome.cc/Gossip/css/pure-0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../../css/layouts/side-menu-old-ie.css">    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="http://openhome.cc/Gossip/css/layouts/side-menu.css">
    <!--<![endif]-->
    <link rel="stylesheet" href="http://openhome.cc/Gossip/css/caterpillar.css">
    <script async="" src="http://openhome.cc/Gossip/google-code-prettify/run_prettify.js"></script>
  <!-- 網頁層級廣告 --><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
  <body>
    <div id="layout">
      <!-- Menu toggle --> <a href="NumericString.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span> </a>
      <div id="menu">
        <div class="pure-menu"> <a class="pure-menu-heading" href="http://openhome.cc/Gossip/CodeData/PythonTutorial/">回 Python Tutorial</a>
          <ul class="pure-menu-list">
            <br>
            <div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img
                  title="Twitter" alt="Twitter" src="../../images/twitter.png"></a> <a
                href="http://www.facebook.com/openhome.cc"><img title="Facebook"
                  alt="Facebook" src="../../images/facebook.png"></a> </div>
            <br>
            <div id="search box">
              <script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div>
            <br>
            <div class="ad" style="text-align: center;">
              <script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
              <!-- 2015 新版型 160 x 600 廣告 -->
              <ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px"
                data-ad-client="ca-pub-9750319131714390" data-ad-slot="3747048883"></ins>
              <script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
          </ul>
        </div>
      </div>
      <main id="main">
        <header class="header">
          <h1>Python 2 Tutorial 第二堂（1）數值與字串型態</h1>
        </header>
        <article class="content"><br>
          <div class="ad-3" style="text-align: center;">
            <script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="7104125683" data-ad-format="auto"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <br>
          <br>
          第二堂上課囉！在知道怎麼撰寫、執行第一個 Python 程式之後，接下來就要瞭解一下 Python 這個程式語言，只不過我們只剩五個小時，因而採取的方式是，在這一個小時很快地瀏覽過 Python 語言的重要基本元素，之後四個小時再從更多實際的範例中瞭解 Python 語言。 那麼，哪些東西才是語言中重要而基本的元素呢？Pascal 之父 Niklaus E. Writh 曾說過：
          <p style="padding-left: 30px;"><em><span style="color: #ff0000;"><strong>Algorithms + Data Structures = Programs</strong></span></em></p>
          演算法與資料結構就等於程式，而一門語言提供的資料型態（Data type）、運算子（Operator）、程式碼封裝方式等，會影響演算法與資料結構的實作方式，因此這一堂對於 Python 語言講解的重點將選定在：
          <ul>
            <li><span style="line-height: 1.714285714; font-size: 1rem;">內建型態（Built-in type）、變數（Variable）與運算子（Operator）</span></li>
            <li><span style="line-height: 1.714285714; font-size: 1rem;">函式（Function）、類別（Class）、模組（Module）與套件（Package）</span></li>
          </ul>
          <h1>內建型態</h1>
          <strong><span style="color: #ff0000;">在 Python 中，萬物皆物件！</span></strong>不過，物件導向並非 Python 的主要典範（Paradigm），Python 之父&nbsp;Guido van Rossum 曾言，自己並非物件導向之信徒，在《Masterminds of Programming》書中，Guido van Rossum 說到：
          <p style="padding-left: 30px;"><strong>Python 支援程序式的（Procedural）程式設計以及（某些程度）物件導向。這兩者沒太大不同，然而 Python 的程序式風格仍強烈受到物件影響（因為基礎的資料型態都是物件）。Python 支援小部份函數式（Functional）程式設計 -- 不過它不像任何真正的函數式語言。</strong></p>
          &nbsp;無論如何，接下來要認識的內建型態都是物件，像是：
          <ul>
            <li><span style="line-height: 1.714285714; font-size: 1rem;"><span
                  style="line-height: 1.714285714; font-size: 1rem;">數值型態（Numeric type） -&nbsp;</span></span><code>int, long, float, bool, complex</code></li>
            <li><span style="line-height: 1.714285714; font-size: 1rem;">字串型態（String type）</span></li>
            <li><span style="line-height: 1.714285714; font-size: 1rem;"><span
                  style="line-height: 1.714285714; font-size: 1rem;">容器型態（Container type） </span></span>- <code>list, set, dict, tuple</code></li>
          </ul>
          這篇文章中，我們要先來認識數值型態與字串型態 …
          <h1>數值型態</h1>
          我們直接進入 Python 互動環境來瞭解這些型態吧！<strong>可以使用 <code>type</code> 函式來得知值的型態</strong>。首先是數值型態：
          <pre class="prettyprint"><code lang="python">~$ python
Python 2.7.3 (default, Aug  1 2012, 05:16:07) 
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; type(1)      # 1 是什麼型態？
&lt;type 'int'&gt;
&gt;&gt;&gt; type(1L)     # 加上 L 呢？
&lt;type 'long'&gt;
&gt;&gt;&gt; type(111111111111111111111111111111111) # 太長的整數會自動使用 long 型態
&lt;type 'long'&gt;
&gt;&gt;&gt; type(3.14)   # 浮點數是 float 型態
&lt;type 'float'&gt;
&gt;&gt;&gt; type(True)   # 布林值是 bool 型態
&lt;type 'bool'&gt;
&gt;&gt;&gt; type(3 + 4j) # 支援複數的 complex 型態
&lt;type 'complex'&gt;
&gt;&gt;&gt; 2 ** 100     # 2 的 100 次方
1267650600228229401496703205376L
&gt;&gt;&gt;</code></pre>
          <br>
          上面的範例中使用了 <code>**</code> 運算子進行次方運算，Python 中當然有加（<code>+</code>）、減（<code>-</code>）、乘（<code>*</code>）等運算子，至於除法則有 <code>/</code> 除法（division）運算子與 <code>//</code> 浮點除法（floor division）兩個，在 Python 2.7 中，整數與整數進行 <code>/</code> 或 <code>//</code> 運算會產生整數；然而整數與浮點數進行 <code>/</code> 會保留小數部份，若進行 <code>//</code> 則會截去小數部份：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 10 / 3
3
&gt;&gt;&gt; 10 // 3
3
&gt;&gt;&gt; 10 / 3.0
3.3333333333333335
&gt;&gt;&gt; 10 // 3.0
3.0
&gt;&gt;&gt;</code></pre>
          <br>
          然而<strong><del>不同版本的</del> Python 2.x 與 Python 3.x 對於 <code>/</code> <del>與 <code>//</code></del> 的行為不同</strong>，例如在 Python 3.3 中，整數與整數進行 <code>/</code> 卻是會產生浮點數，原因可看看 <a
            href="https://www.facebook.com/groups/pythontw/10152295869513438/">Python Taiwan 社團的討論</a>：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 10 / 3
3.3333333333333335
&gt;&gt;&gt; 10 // 3
3
&gt;&gt;&gt; 10 / 3.0
3.3333333333333335
&gt;&gt;&gt; 10 // 3.0
3.0
&gt;&gt;&gt;</code></pre>
          <br>
          在浮點數精確度的表現上，也有必須注意的地方。例如：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 1.0 - 0.8
0.19999999999999996
&gt;&gt;&gt; print (1.0 - 0.8)
0.2
&gt;&gt;&gt;</code></pre>
          <br>
          多數 CPU 與浮點運算器多採用 <a href="http://zh.wikipedia.org/wiki/IEEE_754">IEEE754 浮點數運算（IEEE 754 floating-point arithmetic）</a>，某些浮點數本身就有誤差，這是每個程式人都應該知道的事。Python 互動環境在顯示值時，採用制式的（Offical）字串表示，而 <code>print</code> 語句則採用了非正式的（Informal）字串表示；技術上來說，Python 互動環境會利用物件的 <span
            style="color: #ff0000;"><strong><code>__repr__</code></strong></span> 方法傳回的字串來顯示，<code>print</code> 語句會利用物件的 <span
            style="color: #ff0000;"><strong><code>__str__</code></strong></span> 方法傳回的字串來顯示：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; repr(1.0 - 0.8)
'0.19999999999999996'
&gt;&gt;&gt; str(1.0 - 0.8)
'0.2'
&gt;&gt;&gt;</code></pre>
          <br>
          雖然你也可以用 <code>(1.0 - 0.8).__repr__()</code>、<code>(1.0 - 0.8).__str__()</code> 來取得字串，不過在 Python 中，<span
            style="color: #ff0000;"><strong>底線開頭暗示著你不要直接呼叫或使用</strong></span>，因此上面的示範中，使用 <code>repr</code> 及 <code>str</code> 函式來取得字串。日後你繼續學習 Python 語言的過程中，你會知道，<code>__repr__</code> 及 <code>__str__</code> 是可以自行定義的。 <strong><br>
            <br>
            簡單來說，用 <span style="color: #ff0000;"><code>__repr__</code></span> 來傳回<span
              style="color: #ff0000;">沒有岐義的（Unambiguous）</span>字串表示，用 <span
              style="color: #ff0000;"><code>__str__</code></span> 來傳回<span
              style="color: #ff0000;">具可讀性的（Readable）</span>字串表示。</strong> 想要精確地表示浮點數，語言都會提供程式庫，Python 中使用 <code>decimal</code> 模組中的 <code>Decimal</code> 類別來進行處理。例如：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; import decimal
&gt;&gt;&gt; a = decimal.Decimal('1.0')
&gt;&gt;&gt; b = decimal.Decimal('0.8')
&gt;&gt;&gt; a - b
Decimal('0.2')
&gt;&gt;&gt; print (a - b)
0.2
&gt;&gt;&gt;</code></pre>
          <h1>字串型態</h1>
          如果要在 Python 中表示字串，可以使用 <code>''</code> 或 <code>""</code> 包括文字，兩者在 Python 中具相同作用，都可產生 <code>str</code> 實例，可視情況互換。例如：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; "Just'in"
"Just'in"
&gt;&gt;&gt; 'Just"in'
'Just"in'
&gt;&gt;&gt; 'c:\workspace'
'c:\\workspace'
&gt;&gt;&gt; "c:\workspace"
'c:\\workspace'
&gt;&gt;&gt;</code></pre>
          <br>
          可以看到，在某些情況下，你不用特別略過（Escape） <code>\</code> 字元，然而在底下這種情況下就需要了：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 'c:\todo'
'c:\todo'
&gt;&gt;&gt; print 'c:\todo'
c:	odo
&gt;&gt;&gt; print 'c:\\todo'
c:\todo
&gt;&gt;&gt;</code></pre>
          <strong><br>
            可以在字串前加上 <code>r</code>，表示接下來後面是原始字串（Raw string）表示</strong>，這樣 Python 就會忠實表示後續的字串，技術上來說，會自動為你處理需要略過的字元。例如：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; r'c:\todo'
'c:\\todo'
&gt;&gt;&gt; print r'c:\todo'
c:\todo
&gt;&gt;&gt;</code></pre>
          <strong><span style="color: #ff0000;"><br>
              Python 中的字串不可變（Immutable）</span></strong>，你無法改變已建立的字串內容；想得知字串實際的位元組序列長度（不一定是字元長度），可以使用 <code>len</code> 函式；可以使用 <code>for</code> 來迭代字串；可以使用 <code>in</code> 來測試字串是否包括某子字串；可以使用 <code>+</code> 來串接字串；可以使用 <code>*</code> 來複製字串。例如：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; name = 'Justin'
&gt;&gt;&gt; len(name)
6
&gt;&gt;&gt; for ch in name:
...     print ch
... 
J
u
s
t
i
n
&gt;&gt;&gt; 'Just' in name
True
&gt;&gt;&gt; name + name
'JustinJustin'
&gt;&gt;&gt; name * 3
'JustinJustinJustin'
&gt;&gt;&gt;</code></pre>
          <br>
          可以使用 <code>[]</code> 指定索引來取得字串中的某個字元，索引從 <code>0</code> 開始，可以是正數或負數，負數表示從尾端開始計數，例如 <code>-1</code> 就是最後一個字元， <code>-2</code> 就是倒數第二個字元，依此類推。例如：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang = 'Python'
&gt;&gt;&gt; lang[0]
'P'
&gt;&gt;&gt; lang[-1]
'n'
&gt;&gt;&gt;</code></pre>
          <code><br>
            []</code> 也可以用來切割字串，例如：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang[1:5] # 取得索引 1 至 5（包括 1 但不包括 5）的子字串
'ytho'
&gt;&gt;&gt; lang[0:] # 省略結尾索引，表示取至尾端
'Python'
&gt;&gt;&gt; lang[:6] # 省略起始索引，表示從 0 開始
'Python'
&gt;&gt;&gt;</code></pre>
          <code><br>
            []</code> 還可以指定間距（Gap），例如取索引 0 至 6，每 2 個間距的方式取子字串：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang[0:6:2]
'Pto'
&gt;&gt;&gt;</code></pre>
          <code><br>
            'Python'</code> 的 <code>'P'</code> 至 <code>'y'</code> 算一個間距，<code>'y'</code> 與 <code>'t'</code> 之間也是一個間距，依此類推 <code>'Python'[0:6:2]</code> 取得的就是 <code>'Pto'</code>，將以上對 <code>[]</code> 的運算方式組合在一起，可以得到<strong>一個有趣的反轉字串方式 <code>[::-1]</code></strong>：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang[::-1]
'nohtyP'
&gt;&gt;&gt;</code></pre>
          <br>
          如果要進行字串格式化，以下是舊式寫法：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; '%d %.2f %s' % (1, 99.3, 'Justin')
'1 99.30 Justin'
&gt;&gt;&gt; '%(real)s is %(nick)s' % {'real' : 'Justin', 'nick' : 'caterpillar'}
'Justin is caterpillar'
&gt;&gt;&gt;</code></pre>
          <br>
          技術上來說，字串物件將 <code>%</code> 定義為格式化操作，可以接受 <code>tuple</code> 與 <code>dict</code> 型態，不過這種寫法可讀性不好<strong>，從 Python 2.6 之後，建議使用字串的 <code>format</code> 方法來取代 <code>%</code> 操作</strong>：
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; '{0} is {1}'.format('Justin', 'caterpillar')
'Justin is caterpillar'
&gt;&gt;&gt; '{real} is {nick}'.format(real = 'Justin', nick = 'caterpillar')
'Justin is caterpillar'
&gt;&gt;&gt; '{0} is {nick}'.format('Justin', nick = 'caterpillar')
'Justin is caterpillar'
&gt;&gt;&gt; import sys
&gt;&gt;&gt; 'My platform is {pc.platform}'.format(pc = sys)
'My platform is linux2'
&gt;&gt;&gt;</code></pre>
          <br>
          容器型態及&nbsp;<code>if</code>、<code>for</code>、<code>while</code>&nbsp;等流程語法，會在下篇文章中說明，建議你也趁這個機會，在 Python 互動環境中，進行上面看到的範例練習。 <br>
          <br>
          <br>
          <br>
          <div class="ad336-280" style="text-align: center;">
            <script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins
              class="adsbygoogle" style="display:inline-block;width:336px;height:280px"
              data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <br>
          <div class="recommend" style="text-align: center;">
            <hr>
            <script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article>
      </main>
    </div></body>
    <script src="http://openhome.cc/Gossip/js/ui.js"></script>
    <div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>

</html>
