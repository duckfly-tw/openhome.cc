<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="在知道怎麼撰寫、執行第一個 Python 程式之後，接下來就要瞭解一下 Python 這個程式語言，接下來會很快地瀏覽過 Python 語言的重要基本元素，之後四個小時再從更多實際的範例中瞭解 Pyt...">
    <meta property="og:locale" content="zh_TW">
    <meta property="og:title" content="Python 3 Tutorial 第二堂（2）數值與字串型態">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://openhome.cc/Gossip/CodeData/PythonTutorial/NumericStringPy3.html">
    <meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
    <meta property="og:site_name" content="OPENHOME.CC">
    <meta property="og:description" content="在知道怎麼撰寫、執行第一個 Python 程式之後，接下來就要瞭解一下 Python 這個程式語言，接下來會很快地瀏覽過 Python 語言的重要基本元素，之後四個小時再從更多實際的範例中瞭解 Pyt...">
    <title>Python 3 Tutorial 第二堂（2）數值與字串型態</title>
    <link rel="stylesheet" href="../../css/pure-0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../../css/layouts/side-menu-old-ie.css">    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="../../css/layouts/side-menu.css">
    <!--<![endif]-->
    <link rel="stylesheet" href="../../css/caterpillar.css">
    <script async="" src="../../google-code-prettify/run_prettify.js"></script>
  <!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
  <body>
    <div id="layout">
      <!-- Menu toggle --> <a href="NumericStringPy3.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --> <span></span> </a>
      <div id="menu">
        <div class="pure-menu"> <a class="pure-menu-heading" href="index.html">回 Python Tutorial</a>
          <ul class="pure-menu-list">
            <li class="pure-menu-item"><br>
              <div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img
                    title="Twitter" alt="Twitter" src="../../images/twitter.png"></a> <a
                  href="http://www.facebook.com/openhome.cc"><img title="Facebook"
                    alt="Facebook" src="../../images/facebook.png"></a> </div>
              <br>
              <div id="search box">
                <script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div>
              <br>
              <div class="ad" style="text-align: center;">
                <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- 2015 新版型 160 x 600 廣告 -->
                <ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px"
                  data-ad-client="ca-pub-9750319131714390" data-ad-slot="3747048883"></ins>
                <script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
          </ul>
        </div>
      </div>
      <main id="main">
        <header class="header">
          <h1>Python 3 Tutorial 第二堂（2）數值與字串型態</h1>
        </header>
        <article class="content"> <br>
          <div class="ad-3" style="text-align: center;">
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="7104125683" data-ad-format="auto"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <p>在知道怎麼撰寫、執行第一個 Python 程式之後，接下來就要瞭解一下 Python 這個程式語言，接下來會很快地瀏覽過 Python 語言的重要基本元素，之後四個小時再從更多實際的範例中瞭解 Python 語言。</p>
          <p>那麼，哪些東西才是語言中重要而基本的元素呢？Pascal 之父 Niklaus E. Writh 曾說過：</p>
          <blockquote>
            <p><strong>Algorithms + Data Structures = Programs</strong></p>
          </blockquote>
          <p>演算法與資料結構就等於程式，而一門語言提供的資料型態（Data type）、運算子（Operator）、程式碼封裝方式等，會影響演算法與資料結構的實作方式，因此接下來對於 Python 語言講解的重點將選定在：</p>
          <ul>
            <li>內建型態（Built-in type）、變數（Variable）與運算子（Operator）</li>
            <li>函式（Function）、類別（Class）、模組（Module）與套件（Package）</li>
          </ul>
          <h1>內建型態</h1>
          <p>在 Python 中，萬物皆物件！不過，物件導向並非 Python 的主要典範（Paradigm），Python 之父 Guido van Rossum 曾言，自己並非物件導向之信徒，在《Masterminds of Programming》書中，Guido van Rossum 說到：</p>
          <blockquote>
            <p>Python 支援程序式的（Procedural）程式設計以及（某些程度）物件導向。這兩者沒太大不同，然而 Python 的程序式風格仍強烈受到物件影響（因為基礎的資料型態都是物件）。Python 支援小部份函數式（Functional）程式設計 – 不過它不像任何真正的函數式語言。</p>
          </blockquote>
          <p>無論如何，接下來要認識的內建型態都是物件，像是：</p>
          <ul>
            <li>數值型態（Numeric type） - <code>int</code>, <code>long</code>, <code>float</code>, <code>bool</code>, <code>complex</code></li>
            <li>字串型態（String type）</li>
            <li>容器型態（Container type） - <code>list</code>, <code>set</code>, <code>dict</code>, <code>tuple</code></li>
          </ul>
          <p>這篇文章中，我們要先來認識數值型態與字串型態 …</p>
          <h1>數值型態</h1>
          <p>我們直接進入 Python 互動環境來瞭解這些型態吧！可以使用 <code>type</code> 函式來得知值的型態。首先是數值型態：</p>
          <pre class="prettyprint"><code lang="python">~$ python3.5
Python 3.5.0+ (default, Oct 11 2015, 09:05:38) 
[GCC 5.2.1 20151010] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; type(1)          # 1 是什麼型態？
&lt;class 'int'&gt;
&gt;&gt;&gt; type(1111111111111111111111111111111111111111) # 很長的整數也是 int
&lt;class 'int'&gt; 
&gt;&gt;&gt; type(3.14)       # 浮點數是 float 型態
&lt;class 'float'&gt;
&gt;&gt;&gt; type(True)       # 布林值是 bool 型態
&lt;class 'bool'&gt;       
&gt;&gt;&gt; type(3 + 4j)     # 支援複數的 complex 型態
&lt;class 'complex'&gt;
&gt;&gt;&gt; 2 ** 100         # 2 的 100 次方
1267650600228229401496703205376
&gt;&gt;&gt; 
</code></pre>
          <p>上面的範例中使用了 <code>**</code> 運算子進行次方運算，Python 中當然有加（<code>+</code>）、減（<code>-</code>）、乘（<code>*</code>）等運算子，至於除法則有 <code>/</code> 與 <code>//</code> 兩個，後者的運算結果會只留下整數部份，在 Python 3.x 中，<code>/</code> 一定是產生浮點數，而 <code>//</code> 的話整數與整數運算會產生整數，如果是整數與浮點數進行 <code>//</code> 會產生浮點數：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 10 / 3
3.3333333333333335
&gt;&gt;&gt; 10 // 3
3
&gt;&gt;&gt; 10 / 3.0
3.3333333333333335
&gt;&gt;&gt; 10 // 3.0
3.0
&gt;&gt;&gt;
</code></pre>
          <p>Python 2.x 的 <code>/</code> 行為與 Python 3.x 不同，例如，在 Python 2.7 中，整數與整數進行 <code>/</code> 運算會產生整數，原因可看看 <a
              href="https://www.facebook.com/groups/pythontw/10152295869513438/">Python Taiwan 社團的討論</a>：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 10 / 3
3
&gt;&gt;&gt; 10 // 3
3
&gt;&gt;&gt; 10 / 3.0
3.3333333333333335
&gt;&gt;&gt; 10 // 3.0
3.0
&gt;&gt;&gt;
</code></pre>
          <p>在浮點數精確度的表現上，也有必須注意的地方。例如：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 1.0 - 0.8
0.19999999999999996
&gt;&gt;&gt; print(1.0 - 0.8)
0.19999999999999996
&gt;&gt;&gt;
</code></pre>
          <p>多數 CPU 與浮點運算器多採用 <a href="http://zh.wikipedia.org/wiki/IEEE_754">IEEE754 浮點數運算（IEEE 754 floating-point arithmetic）</a>，某些浮點數本身就有誤差，這是每個程式人都應該知道的事，在 Python 3.x 中，忠實地呈現了這個事實，即使是透過 <code>print()</code> 函式也是忠實地呈現誤差。</p>
          <p>不過，在 Python 2.x 時，你看到的卻會是：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 1.0 - 0.8
0.19999999999999996
&gt;&gt;&gt; print (1.0 - 0.8)
0.2
&gt;&gt;&gt;
</code></pre>
          <p>Python 2.x 互動環境在顯示值時，會採用制式的（Offical）字串表示，而 print 語句則採用了非正式的（Informal）字串表示；技術上來說，Python 2.x 互動環境會利用物件的 <code>__repr__</code> 方法傳回的字串來顯示，<code>print</code> 語句會利用物件的 <code>__str__</code> 方法傳回的字串來顯示，例如，在 Python 2.x 中：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; repr(1.0 - 0.8)
'0.19999999999999996'
&gt;&gt;&gt; str(1.0 - 0.8)
'0.2'
&gt;&gt;&gt;
</code></pre>
          <p>雖然你也可以用 <code>(1.0 - 0.8).__repr__()</code>、<code>(1.0 - 0.8).__str__()</code> 來取得字串，不過在 Python 中，底線開頭暗示著你不要直接呼叫或使用，因此上面的示範中，使用 <code>repr</code> 及 <code>str</code> 函式來取得字串。日後你繼續學習 Python 語言的過程中，你會知道，<code>__repr__</code> 及 <code>__str__</code> 是可以自行定義的。</p>
          <p>簡單來說，<strong>用 <code>__repr__</code> 來傳回沒有岐義的（Unambiguous）字串表示，用 <code>__str__</code> 來傳回具可讀性的（Readable）字串表示</strong>，在 Python 3.x 中，依然可以定義 <code>__repr__</code> 與 <code>__str__</code>，不過，對於浮點數來說，顯然地採取了更嚴格的態度，因此無論是 <code>repr(1.0 - 0.8)</code> 或是 <code>str(1.0 - 0.8)</code>，在 Python 3.x 中，都是傳回 <code>'0.19999999999999996'</code> 的結果。</p>
          <p>想要精確地表示浮點數，語言都會提供程式庫，Python 中使用 <code>decimal</code> 模組中的 <code>Decimal</code> 類別來進行處理。例如：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; import decimal
&gt;&gt;&gt; a = decimal.Decimal('1.0')
&gt;&gt;&gt; b = decimal.Decimal('0.8')
&gt;&gt;&gt; a - b
Decimal('0.2')
&gt;&gt;&gt; print(a - b)
0.2
&gt;&gt;&gt; 
</code></pre>
          <h1>字串型態</h1>
          <p>如果要在 Python 中表示字串，可以使用 <code>''</code> 或 <code>""</code> 包括文字，兩者在 Python 中具相同作用，都可產生 <code>str</code> 實例，可視情況互換。例如：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; "Just'in"
"Just'in"
&gt;&gt;&gt; 'Just"in'
'Just"in'
&gt;&gt;&gt; 'c:\workspace'
'c:\\workspace'
&gt;&gt;&gt; "c:\workspace"
'c:\\workspace'
&gt;&gt;&gt;
</code></pre>
          <p>可以看到，在某些情況下，你不用特別略過（Escape） <code>\</code> 字元，然而在底下這種情況下就需要了：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; 'c:\todo'
'c:\todo'
&gt;&gt;&gt; print('c:\todo')
c:  odo
&gt;&gt;&gt; print('c:\\todo')
c:\todo
&gt;&gt;&gt; 
</code></pre>
          <p>可以在字串前加上 <code>r</code>，表示接下來後面是原始字串（Raw string）表示，這樣 Python 就會忠實表示後續的字串，技術上來說，會自動為你處理需要略過的字元。例如：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; r'c:\todo'
'c:\\todo'
&gt;&gt;&gt; print(r'c:\todo')
c:\todo
&gt;&gt;&gt; 
</code></pre>
          <p>Python 中的字串<strong>不可變（Immutable）</strong>，你無法改變已建立的字串內容；想得知字串實際的字元長度，可以使用 <code>len</code> 函式；可以使用 <code>for</code> 來迭代字串；可以使用 <code>in</code> 來測試字串是否包括某子字串；可以使用 <code>+</code> 來串接字串；可以使用 <code>*</code> 來複製字串。例如：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; name = 'Justin'
&gt;&gt;&gt; len(name)
6
&gt;&gt;&gt; for ch in name:
...     print(ch)
... 
J
u
s
t
i
n
&gt;&gt;&gt; 'Just' in name
True
&gt;&gt;&gt; name + name
'JustinJustin'
&gt;&gt;&gt; name * 3
'JustinJustinJustin'
&gt;&gt;&gt; 
</code></pre>
          <p>可以使用 <code>[]</code> 指定索引來取得字串中的某個字元，索引從 0 開始，可以是正數或負數，負數表示從尾端開始計數，例如 -1 就是最後一個字元， -2 就是倒數第二個字元，依此類推。例如：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang = 'Python'
&gt;&gt;&gt; lang[0]
'P'
&gt;&gt;&gt; lang[-1]
'n'
&gt;&gt;&gt; 
</code></pre>
          <p><code>[]</code> 也可以用來切割字串，例如：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang[1:5] # 取得索引 1 至 5（包括 1 但不包括 5）的子字串
'ytho'
&gt;&gt;&gt; lang[0:] # 省略結尾索引，表示取至尾端
'Python'
&gt;&gt;&gt; lang[:6] # 省略起始索引，表示從 0 開始
'Python'
&gt;&gt;&gt; 
</code></pre>
          <p><code>[]</code> 還可以指定間距（Gap），例如取索引 0 至 6，每 2 個間距的方式取子字串：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang[0:6:2]
'Pto'
&gt;&gt;&gt;
</code></pre>
          <p><code>'Python'</code> 的 <code>'P'</code> 至 <code>'y'</code> 算一個間距，<code>'y'</code> 與 <code>'t'</code> 之間也是一個間距，依此類推 <code>'Python'[0:6:2]</code> 取得的就是 <code>'Pto'</code>，將以上對 <code>[]</code> 的運算方式組合在一起，可以得到一個有趣的<strong>反轉字串方式 <code>[::-1]</code></strong>：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; lang[::-1]
'nohtyP'
&gt;&gt;&gt;
</code></pre>
          <p>如果要進行字串格式化，以下是舊式寫法：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; '%d %.2f %s' % (1, 99.3, 'Justin')
'1 99.30 Justin'
&gt;&gt;&gt; '%(real)s is %(nick)s' % {'real' : 'Justin', 'nick' : 'caterpillar'}
'Justin is caterpillar'
&gt;&gt;&gt; 
</code></pre>
          <p>技術上來說，字串物件將 <code>%</code> 定義為格式化操作，可以接受 <code>tuple</code> 與 <code>dict</code> 型態，不過這種寫法可讀性不好，從 Python 2.6 之後，建議使用字串的 <code>format</code> 方法來取代 <code>%</code> 操作，這在 Python 3.x 之後也是如此：</p>
          <pre class="prettyprint"><code lang="python">&gt;&gt;&gt; '{0} is {1}'.format('Justin', 'caterpillar')
'Justin is caterpillar'
&gt;&gt;&gt; '{real} is {nick}'.format(real = 'Justin', nick = 'caterpillar')
'Justin is caterpillar'
&gt;&gt;&gt; '{0} is {nick}'.format('Justin', nick = 'caterpillar')
'Justin is caterpillar'
&gt;&gt;&gt; import sys
&gt;&gt;&gt; 'My platform is {pc.platform}'.format(pc = sys)
'My platform is linux'
&gt;&gt;&gt; 
</code></pre>
          <p>容器型態及 <code>if</code>、<code>for</code>、<code>while</code> 等流程語法，會在下篇文章中說明，在這之前，進一步來玩玩 Python 互動環境中，之後你也可以自行進行上面看到的範例練習。</p>
          <h2>練習 2：Python 互動模式與直譯器指令</h2>
          <p>開啟一個終端機，鍵入 <code>python3.5</code> 指令進入互動模式，接著鍵入以下指令，你會看到什麼？</p>
          <ul>
            <li><code>1 + 2</code></li>
            <li><code>_</code> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # _ 代表最後一次執行結果</li>
            <li><code>_ + 3</code></li>
            <li><code>help()</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 進入文件查詢介面</li>
            <li><code>len</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 查詢 len 函式說明</li>
            <li><code>keywords</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 查詢關鍵字有哪些</li>
            <li><code>quit（或是 q）</code> # 離開文件查詢介面</li>
            <li><code>help(len)</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 直接查詢 len 函式說明</li>
            <li>Ctrl + D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 離開互動模式</li>
          </ul>
          <p>離開互動模式後，直接鍵入以下指令會看到什麼？</p>
          <pre class="prettyprint"><code lang="python">python3.5 -h
python3.5 -c 'print "Hello! Python!"'
python3.5 -c 'help(len)'
python3.5 -c 'import this'
</code></pre>
          <p><code>-h</code> 引數會顯示使用說明，-c 會直譯後續給定的字串文字，因此 <code>python -c 'help(len)'</code> 就是顯示 <code>len</code> 函式的說明，<code>import this</code> 會顯示一段文件，代表 Python 的哲學，也是發展的規範：</p>
          <pre class="prettyprint"><code lang="python">The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
</code></pre> <br>
          <br>
          <div class="ad336-280" style="text-align: center;">
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins
              class="adsbygoogle" style="display:inline-block;width:336px;height:280px"
              data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <br>
          <div class="recommend" style="text-align: center;">
            <hr>
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article>
      </main>
    </div></body>
    <script src="../../js/ui.js"></script>
    <div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>

</html>
