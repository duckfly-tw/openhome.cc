<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="見過蚊香嗎？現代年輕一代，可能還真沒看過蚊香，來看看維基上的蚊香照：

漩渦形蚊香的路徑就是阿基米德螺線，阿基米德螺線的公式是：

根據公式，Θ 為 0 時的 r 是 a，也就是 a 控制了由內而外的...">

    <meta property="og:locale" content="zh_TW">
    <meta property="og:title" content="阿基米德螺線">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://openhome.cc/Gossip/P5JS/ArchimedeanSpiral.html">
    <meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
    <meta property="og:site_name" content="OPENHOME.CC">
    <meta property="og:description" content="見過蚊香嗎？現代年輕一代，可能還真沒看過蚊香，來看看維基上的蚊香照：

漩渦形蚊香的路徑就是阿基米德螺線，阿基米德螺線的公式是：

根據公式，Θ 為 0 時的 r 是 a，也就是 a 控制了由內而外的...">

    <title>阿基米德螺線</title>

    <link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
     <!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="ArchimedeanSpiral.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="index.html">回 p5.js</a>
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a></div><br> <div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>阿基米德螺線</h1>
        </header>

        <article class="content">
            <br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            
            <p>見過蚊香嗎？現代年輕一代，可能還真沒看過蚊香，來看看<a href="https://zh.wikipedia.org/wiki/%E8%9A%8A%E9%A6%99">維基上的蚊香照</a>：</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/ArchimedeanSpiral-1.JPG" alt="阿基米德螺線"  /></div></div></p>
<p>漩渦形蚊香的路徑就是阿基米德螺線，阿基米德螺線的公式是：</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/ArchimedeanSpiral-2.JPG" alt="阿基米德螺線"  /></div></div></p>
<p>根據公式，<code>Θ</code> 為 0 時的 <code>r</code> 是 <code>a</code>，也就是 <code>a</code> 控制了由內而外的起點位置，若 <code>Θ</code> 為某徑度 <code>radian</code>，<code>r1 = a + b * angle</code>，轉一圈後 <code>r2 = a + b * (angle + 2 * PI)`</code>，r2 - r1 = 2 * PI * b<code>，也就是從螺線起點、任意角往外畫一直線，與螺線任兩個的連續交點，距離一定是固定的</code>2 * PI * b`。</p>
<p>那麼製作蚊香時，是依公式在轉動鋪料上去的嗎？這太麻煩了！只要等角速度轉動圓盤，然後直線地以等速由內往外鋪料就可以了，因為從公式來看，<code>Θ</code> 的角速度相同，<code>r</code> 的增加速度也就相同，這就是阿基米德螺線也被稱為等速螺線的原因。</p>
<p>有公式的話，要畫螺線基本上不是難事，若 <code>a</code> 為 0，可以畫出以下的螺線：</p>
<script type="text/p5" data-p5-version="1.1.9" data-height="400" data-preview-width="400">function setup() {
    createCanvas(300, 300);
    noFill();
    noLoop();
}

function draw() {
    background(220);
    translate(width / 2, height / 2);

    const b = 5;

    beginShape();
    for(let theta = 1; theta < PI * 10; theta += 0.5) {
        const {x, y} = polarToCartesian(b * theta, theta);
        vertex(x, y);
    }
    endShape();
}

function polarToCartesian(r, theta) {
    return {
        x: r * cos(theta),
        y: r * sin(theta)
    };
}
</script>
<p>喂！不是要畫阿基米德螺線嗎？怎麼畫出來的像是折線？而且還越往外越長？這是因為 <code>theta</code> 的增量故意設較大的原因，如果你只是要畫螺線，不希望看來像折線，<code>theta</code> 的增量設小一些就可以了，例如設為 0.1，就目前的繪圖大小而言，就應該不會看來像折線了。</p>
<p>然而，如果你的繪圖區夠大，螺線圈數夠多，其實到一定的圈數之後，還是會看來像個折線，這是因為程式中<code>theta</code> 的增量是固定的，螺線圈數越多，<code>r</code> 越大，固定的轉動 <code>theta</code>，弧長本來就會越長，<code>beginShape</code>、<code>vertex</code>、<code>endShape</code> 是將每個計算得到的點以直線連接，才會越外圈越看得出折線。</p>
<p>這會有什麼問題呢？如果你想在阿基米德螺線上，等距地放上一些字，或者一些圖案，以上的寫法就不適合。</p>
<p>可是我曾經用 OpenSCAD 建立的愛心鏈，看來是用了阿基米德螺線：</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/ArchimedeanSpiral-3.JPG" alt="阿基米德螺線"  /></div></div></p>
<p>看來愛心與愛心之間是等距，這是怎麼辦到的？最簡單的想法當然是，在螺線上每越一段距離，就畫一個愛心，確實地，是可以求得阿基米德螺線的螺線長，搜尋「archimedean spiral arc length」就可以找到公式，例如 <a href="https://mathworld.wolfram.com/ArchimedesSpiral.html">Wolfram MathWorld 的 Archimedes' Spiral</a> 就有了：</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/ArchimedeanSpiral-4.JPG" alt="阿基米德螺線"  /></div></div></p>
<p>如果你的點距是固定的 <code>d</code>，只要找出 <code>s</code> 為 <code>d</code>、<code>2 * d</code>、<code>3 * d</code> 等對應的 <code>Θ</code>，也就是推導出 <code>Θ(s)</code> 的公式就可以了，對吧！嗯！如果無誤差地推導出公式了，請跟我說聲…XD</p>
<p>有時候，如果可以允許一點誤差，事情會好辦一些，對於繪圖或精細度不用要求很高的建模就是如此，至於要怎麼允許一點誤差，就看個別需求。</p>
<p>例如，如果需求只是要繪圖時，「看起來像」等距，假設螺線已經來到 <code>Θ</code> 處：</p>
<p><div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" src="images/ArchimedeanSpiral-5.JPG" alt="阿基米德螺線"  /></div></div></p>
<p>紅色是螺線，接下來本想將點放到紅色虛線與 <code>(Θ + Θd)</code> 的藍色虛線交接處，不過那個位置不容易計算，想說退一步地，放到綠色圓弧處好了，只要 <code>Θd</code> 別太大，繪製出來的點大致上是看不太出差異的，如果想要的弧長為 <code>d</code>，那麼 <code>d = r * Θd = (b * Θ) * Θd</code>，那麼 可以求得 <code>Θd = d / (b * Θ)</code>。</p>
<p><code>Θd</code> 不會是固定值，每一次新的 <code>Θ'</code> 會等於 <code>Θ + Θd</code>，而新的 <code>r' = b * Θ'</code>，來看看繪圖的效果，這次使用畫點的方式，看看點的分佈是不是符合需求：</p>
<script type="text/p5" data-p5-version="1.1.9" data-height="400" data-preview-width="400">function setup() {
    createCanvas(300, 300);
    strokeWeight(5);
    noFill();
    noLoop();
}

function draw() {
    background(220);
    translate(width / 2, height / 2);

    const b = 5;
    const d = 15;     
    let theta = 1;
    let r = b * theta;
    while(theta < PI * 10) {
        const {x, y} = polarToCartesian(r, theta);
        point(x, y);

        const theta1 = d / (b * theta);
        theta += theta1;
        r = b * theta;
    }
}

function polarToCartesian(r, theta) {
    return {
        x: r * cos(theta),
        y: r * sin(theta)
    };
}
</script>
<p>簡單來說，這是一種近似方式，你也可以採取其他近似方式，最後，來讓圓周率旋轉一下吧！</p>
<script type="text/p5" data-p5-version="1.1.9" data-height="400" data-preview-width="400">function setup() {
    createCanvas(300, 300);
    strokeWeight(5);
    textSize(20);
}

let a = 0;
function draw() {
    background(220);
    translate(width / 2, height / 2);

    rotate(-a);
    a += 0.05;

    const PI_TXT = '3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234';

    const b = 5;
    const d = 15;     
    let theta = 5;
    let r = b * theta;
    let i = 0;
    while(i < PI_TXT.length) {
        const {x, y} = polarToCartesian(r, theta);
        characeter(PI_TXT[i], x, y, theta);
        const theta1 = d / (b * theta);
        theta += theta1;
        r = b * theta;
        i++;
    }
}

function characeter(c, x, y, a) {
    push();
    translate(x, y);  
    rotate(a + HALF_PI);
    text(c, 0, 0);
    pop();
}

function polarToCartesian(r, theta) {
    return {
        x: r * cos(theta),
        y: r * sin(theta)
    };
}
</script>

            
           <br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article>
    </main>
</div></body>
</html>
<script src="https://toolness.github.io/p5.js-widget/p5-widget.js"></script>
<script src="../js/ui.js"></script>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
