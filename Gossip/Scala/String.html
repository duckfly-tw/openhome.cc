<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="在Scala中，重用了Java的字串類別java.lang.String，所以基本上，Scala中字串與Java中的字串有著相同的特性（可以參考 &nbsp;那些字串二三事）。你可以在Scala中直接...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="String">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/Scala/String.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="在Scala中，重用了Java的字串類別java.lang.String，所以基本上，Scala中字串與Java中的字串有著相同的特性（可以參考 &nbsp;那些字串二三事）。你可以在Scala中直接...">


    <title>String</title>

<link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="String.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="https://openhome.cc/Gossip/Scala/">回 Scala 目錄</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>String</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            在Scala中，重用了Java的字串類別java.lang.String，所以基本上，Scala中字串與Java中的字串有著相同的特性（可以參考 &nbsp;<a href="../JavaEssence/String.html">那些字串二三事</a>）。你可以在Scala中直接用雙引號宣告字串，或者是使用字元陣列來建構字串，例如：<br><pre class="prettyprint"><code lang="scala">val str1 = "Scala"<br>val str2 = new String(Array('S', 'c', 'a', 'l', 'a'))<br>println(str1) // 顯示 Scala<br>println(str2) // 顯示 Scala</code></pre><br>字串是不可變動的（Immutable），在建立之後就不能改變它的值，在內部字串是使用陣列儲存字元資料，你可以根據索引取得字串中的字元值，基本上你可以使用charAt方法，索引由0開始，例如str1.charAt(0)傳回'S'字元，str1.charAt(1)傳回'c字元，'，以下是幾個與索引相關的方法（直接引自java.lang.String的方法宣告方式）：<br>




      
      <table align="left" border="1" width="100%">




  <tbody>




    <tr>




      <td align="left" valign="top">char charAt(int index) </td>




      <td align="left" valign="top">傳回指定索引處的字元 </td>




    </tr>




    <tr>




      <td align="left" valign="top">int indexOf(int ch) </td>




      <td align="left" valign="top">傳回指定字元第一個找到的索引位置 </td>




    </tr>




    <tr>




      <td align="left" valign="top">int indexOf(String str) </td>




      <td align="left" valign="top">傳回指定字串第一個找到的索引位置 </td>




    </tr>




    <tr>




      <td align="left" valign="top">int lastIndexOf(int ch) </td>




      <td align="left" valign="top">傳回指定字元最後一個找到的索引位置 </td>




    </tr>




    <tr>




      <td align="left" valign="top">String substring(int beginIndex) </td>




      <td align="left" valign="top">取出指定索引處至字串尾端的子字串 </td>




    </tr>




    <tr>




      <td align="left" valign="top">String substring(int beginIndex,
int endIndex) </td>




      <td align="left" valign="top">取出指定索引範圍子字串 </td>




    </tr>




    <tr>




      <td align="left" valign="top">char[] toCharArray() </td>




      <td align="left" valign="top">將字串轉換為字元陣列 </td></tr></tbody></table><br><br>要取得字串長度資訊，也是透過String類別的length方法來取得，簡單來說，只要查詢 <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html">java.lang.String</a> 的API，就可以知道在Scala中，字串有哪些方法可以操作。<br><br>除
了使用Java的方式來操作字串之外，在Scala中，你還可以對字串作更多的操作，例如，有剖析字串，可以使用toInt、toLong、
toDouble等方法（在Java中則是使用對應Wrapper類別的parseXXX()方法），也可以將某個字串「乘以」某數，表示重複字串幾次：<br><pre class="prettyprint"><code lang="scala">println("123".toInt + "456".toInt) // 顯示 579<br>println("Scala" * 3) // 顯示 ScalaScalaScala</code></pre><br>若要循序取出字串中每個字元，可以使用 <a href="ForExpression.html">for 運算式</a>：<br><pre class="prettyprint"><code lang="scala">for(c &lt;- "Scala") {<br>    println(c) // 每行顯示一個字元<br>}</code></pre><br><a href="Function.html">簡單的函式</a> 曾介紹過的foreach方法，在字串上也可以使用：<br><pre class="prettyprint"><code lang="scala">"Scala".foreach((c: Char) =&gt; println(c)) // 每行顯示一個字元</code></pre><br>事實上，如果你要指定索引，取得字串中的字元，除了charAt方法之外，使用以下的方式會更為直覺：<br><pre class="prettyprint"><code lang="scala">val str = "Scala"<br>println(str(0)) // 顯示 'S' <br>println(str(1)) // 顯示 'c' <br>println(str(2)) // 顯示 'a' <br>println(str(3)) // 顯示 'l' <br>println(str(4)) // 顯示 'a' </code></pre><br>這並不是什麼神奇的功能，事實上當你操作字串時，呼叫了某個java.lang.String上所沒有提供的方法時，Scala會使用隱式轉換（Implicit conversion）將字串使用 <a href="http://www.scala-lang.org/docu/files/api/scala/runtime/RichString.html">scala.runtime.RichString</a> 包裹起來，上面幾個例子，實際上都是操作RichString上的某些方法才得以完成（其中一些關於產生器、foreach、apply方法等，之後還會詳述）。<br><br>在字串中若要表示特定字元，例如"號，則要使用\來跳脫（Escape），例如：<br><pre class="prettyprint"><code lang="scala">val str = "This is \"Scala\"!"<br>println(str) // 顯示 This is "Scala" !</code></pre><br>以下是跳脫字元的指定方式：<br><table align="left" border="1" width="100%">




        <tbody>




          <tr>




            <td align="left" valign="top">\\
            </td>




            <td align="left" valign="top">反斜線
            </td>




          </tr>




          <tr>




            <td align="left" valign="top">\'
            </td>




            <td align="left" valign="top">單引號
' </td>




          </tr>




          <tr>




            <td align="left" valign="top">\"
            </td>




            <td align="left" valign="top">雙引號
" </td>




          </tr>




          <tr>




            <td align="left" valign="top">\uxxxx
            </td>




            <td align="left" valign="top">以16
進位數指定Unicode字元輸出 </td>




          </tr>




          




          <tr>




            <td align="left" valign="top">\b
            </td>




            <td align="left" valign="top">倒退一
個字元 </td>




          </tr>




          <tr>




            <td align="left" valign="top">\f
            </td>




            <td align="left" valign="top">換頁
            </td>




          </tr>




          <tr>




            <td align="left" valign="top">\n
            </td>




            <td align="left" valign="top">換行
            </td>




          </tr>




          <tr>




            <td align="left" valign="top">\r
            </td>




            <td align="left" valign="top">游標移
至行首 </td>




          </tr>




          <tr>




            <td align="left" valign="top">\t
            </td>




            <td align="left" valign="top">跳格
(一個Tab鍵) </td></tr></tbody></table><br><br><span style="font-weight: bold;">在Scala中，可以使用"""來括住字串，稱之為原始字串（Raw string）</span>，上面的例子可以寫為以下形式：<br><pre class="prettyprint"><code lang="scala">val str = """This is "Scala"!"""<br>println(str) // 顯示 This is "Scala" !</code></pre><br>在原始字串中，你不用跳脫字元，所以可以直接在原始字串中寫下"、\符號，不用特別跳脫"、\符號，對於撰寫正則表示式（Regular expression）時的簡潔很有幫助，例如原先撰寫以下的正則表示式：<br><pre class="prettyprint"><code lang="scala">val re = "\\d\\d\\d"<br>println("123-134".replaceAll(re, "###")) // 顯示 ###-###</code></pre><br>因為正則表示式\d要寫在字串中，必須跳脫\符號，所以必須寫成\\d。如果使用Scala的原始字串，則只要寫成：<br><pre class="prettyprint"><code lang="scala">val re = """\d\d\d"""<br>println("123-134".replaceAll(re, "###")) // 顯示 ###-###</code></pre><br>原始字串也可以跨越多行：<br><pre class="prettyprint"><code lang="scala">val text = """在原始字串中，你不用跳脫字元，<br>              所以可以直接在原始字串中寫下"<br>              、\符號，不用特別跳脫"、\符號..."""<br>println(text)</code></pre><br>上面的程式看似只是縮排，不過要注意，在跨越多行時，空白也會被列為字串的一部份，所以程式執行後會顯示：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">在原始字串中，你不用跳脫字元，<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 所以可以直接在原始字串中寫下"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 、\符號，不用特別跳脫"、\符號...</span><span style="color: rgb(255, 255, 255);"><br>




            </span></div><br>如果不想連同空白也被列入，則可以使用 | 符號加上stripMargin方法，例如：<br><pre class="prettyprint"><code lang="scala">val text = """在原始字串中，你不用跳脫字元，<br>              |所以可以直接在原始字串中寫下"<br>              |、\符號，不用特別跳脫"、\符號...""".stripMargin<br>println(text)</code></pre><br>程式執行後會顯示：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">在原始字串中，你不用跳脫字元，<br>所以可以直接在原始字串中寫下"<br>、\符號，不用特別跳脫"、\符號...</span><span style="color: rgb(255, 255, 255);"><br>




            </span></div><br>如果你熟悉Java，對於字串的特性應該知道，直接在""中寫下字串，只要字元內容相同，無論出現幾次，在JVM中只會有一個字串實例，而==是用於比較兩個物件參考是否相同，所以下面這個Java程式結果是熟悉Java的程式設計人員都知道的事：<br><div style="margin-left: 40px;">String str1 = "Java";<br>String str2 = "Java"<br>String str3 = new String(str1);<br>System.out.println(str1 == str2); // 顯示 true<br>System.out.println(str1 == str3); // 顯示 false<br>System.out.println(str1.equals(str3)); // 顯示 true<br></div><br>先前說過，在Scala中重用了java.lang.String，也許你會認為以下的程式也會顯示true、false、true，不過結果可能會令你訝異：<br><pre class="prettyprint"><code lang="scala">val str1 = "Scala"<br>val str2 = "Scala"<br>val str3 = new String(str1)<br>println(str1 == str2)       // 顯示 true<br>println(str1 == str3)       // 顯示 true<br>println(str1.equals(str3))  // 顯示 true</code></pre><br>這
是因為==在Scala中，是比較物件實質內容是否相同，這點與Java並不同，也因此第二個顯示會是true，在Scala中基本上也沒有必要直接呼叫
equals方法，而可以直接使用==取代（之後會介紹，在Scala中，若要定義物件實質相等性，也是重新定義equals()方法，因為==會呼叫
equals()方法）。<br><br>如果你真的要比較兩個物件參考是否相同，可以使用eq或ne方法，例如：<br><pre class="prettyprint"><code lang="scala">val str1 = "Scala"<br>val str2 = "Scala"<br>val str3 = new String(str1)<br>println(str1 eq str2)         // 顯示 true<br>println(str1 eq str3)         // 顯示 false<br>println(str1 == str3)         // 顯示 true</code></pre><br><br><br><br><br>
   

<br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
  </article></main></div></body>
<script src="../js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
