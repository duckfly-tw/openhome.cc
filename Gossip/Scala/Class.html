<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="在
              Scala中要定義類別非常的簡單，例如你可以定義一個帳戶（Account）類別：
            
            class Accountva...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="簡單的類別">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/Scala/Class.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="在
              Scala中要定義類別非常的簡單，例如你可以定義一個帳戶（Account）類別：
            
            class Accountva...">


    <title>簡單的類別</title>

<link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="Class.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="https://openhome.cc/Gossip/Scala/">回 Scala 目錄</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>簡單的類別</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            在
              Scala中要定義類別非常的簡單，例如你可以定義一個帳戶（Account）類別：<br>
            
            <pre class="prettyprint"><code lang="scala">class Account<br>val acct = new Account</code></pre>
            <br>
              上例中，class用來定義一個類別，在上例中，Account是個公開（Public）類別，在Scala中定義類別時，沒有指定存取權限
              的話，預設就是公開類別。<br>
              <br>
              new
              則根據類別定義來建立實例（Instance），由於建立物件時不需給定引數作為建構之用，所以括號可以省略。在Scala中，你可以在同一
              個.scala檔案中定義多個類別，這方便你在開發時撰寫一些簡單的指令稿
              （Script），不過建議為每個類別撰寫一個.scala，主檔名為類別名稱相同，如此別的開發人員要檢視你的相關類別時，可以很快地找到
              相對應的原始
              碼。<br>
              <br>
              上面這個例子不並不能作什麼，一個帳戶基本上要有帳號、名稱、餘額，也要有存款、提款的功能，來看看下面這個例子：<br>
            
            <pre class="prettyprint"><code lang="scala">class Account(acctNumber: String, acctName: String) {<br>    val id = acctNumber<br>    val name = acctName<br>    private var bal = 0<br>    <br>    def deposit(amount: Int) {<br>        require(amount &gt; 0) // 不能存負數<br>        bal += amount<br>    }<br>    <br>    def withdraw(amount: Int) {<br>        require(amount &gt; 0)     // 不能提負數<br>        if(amount &lt;= bal) {<br>            bal -= amount<br>        }<br>        else {<br>            throw new RuntimeException("餘額不足")<br>        }<br>    }<br>    <br>    def balance = bal<br>}</code></pre>
            <br>
              這個類別已包含幾個Scala中定義類別的觀念。首先是：<br>
            
            <div style="margin-left: 40px;"><span

                  style="font-weight: bold;">class Account(acctNumber: String,
                  acctName: String)&nbsp;</span><br>
            </div>
            <br>
              這定義了一個類別，接受兩個引數作為建構之用，所以你可以用以下方式來建構物件：<br>
            
            <div style="margin-left: 40px;"><span

                  style="font-weight: bold;">val acct = new
                  Account("123-456-789", "Justin Lin")</span><br>
            </div>
            <br>
              雖然語法上沒有指出，不過acctNumber與acctName都是<span style="font-weight: bold;">private
                val</span>宣告的，所以在類別中不能改變它的值，acctNumber與acctName實際上會成為類別中的private
              成員，所以無法直接透過物件實例存取acctNumber與acctName（更精確地說，其實是
              private[this]
              val，也就是所謂物件私有（object-private）權限修飾，在Account類別中也無法透過另一Account實例來存取其acctNumber
              與acctName，之後還會詳談）。如果你熟悉Java，上面這個程式片
              段，相當於Java的：<br>
            
            <div style="margin-left: 40px;"><span

                  style="font-weight: bold;">// 這是 Java</span><br>
              <span style="font-weight: bold;">public
                  class Account {</span><br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; private final String acctNumber;</span><br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; private final String acctName;</span><br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; public Account(String acctNumber, String acctName) {</span><br

                style="font-weight: bold; font-family: Courier New,Courier,monospace;">
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; &nbsp; &nbsp; this.acctNumber = acctNumber;</span><br

                style="font-weight: bold; font-family: Courier New,Courier,monospace;">
              &nbsp;
                &nbsp; &nbsp; &nbsp; this.acctName = acctName;<br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; }</span><br>
              <span style="font-weight: bold;">}</span><br>
            </div>
            <br>
              再來繼續看：<br>
            
            <div style="margin-left: 40px;"><span

                  style="font-weight: bold;">class Account(acctNumber: String,
                  acctName: String) {</span><br>
              <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;
                  val id = acctNumber</span><br>
              <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;
                  val name = acctName</span><br>
              <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;
                  private var bal = 0</span><br>
              <span style="font-weight: bold;">}</span><br>
            </div>
            <br>
              類別上的參數與本體定義了一個<span style="font-weight: bold;">主要建構式（Primary
                constructor）</span>，id與name沒有使用任何存取修飾，預設為公開（Public），bal則使用
              private宣告為私用。上面的片段若要以Java來類比，相當於以下的Java程式：<br>
            
            <div style="margin-left: 40px;"><span

                  style="font-weight: bold;">// 這是 Java</span><br>
              <span style="font-weight: bold;">public
                  class Account {</span><br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; private final String acctNumber;</span><br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; private final String acctName;<br>
                  &nbsp; &nbsp; public final String id;<br>
                  &nbsp; &nbsp; public final String name;<br>
                  &nbsp; &nbsp; private int bal;<br>
                </span><span

                  style="font-weight: bold;">&nbsp; &nbsp; public Account(String
                  acctNumber, String acctName) {</span><br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; &nbsp; &nbsp; this.acctNumber = acctNumber;</span><br

                style="font-weight: bold; font-family: Courier New,Courier,monospace;">
              &nbsp;
                &nbsp; &nbsp; &nbsp; this.acctName = acctName;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; this.id = acctNumber;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; this.name = acctName;<br>
              <span

                  style="font-weight: bold;">&nbsp; &nbsp; }</span><br>
              <span style="font-weight: bold;">}</span><br>
            </div>
            <br>
              接下來在類別本體中，還定義了一些函式，在類別中的函式，物件導向上通常稱之為方法（Method），由於定義方法時沒有任何存取修飾，所以
              預設就是公開（Public），剩下的觀念，在 <a href="Function.html">簡
                    單的函式</a> 中都有提到。同樣地，在類別中使用val宣告了資料成員（Field），沒有
              指定任何存取修飾的話，預設就是公開。<br>
              <br>
              require函式給依你給定的條件進行判斷，如果運算是true則什麼事都不會發生，如果運算是false，則丟出
              java.lang.IllegalArgumentException。<br>
              <br>
              每個建構出來的Account實例，都會擁有自己的資料狀態，以下是個建構與使用物件的範例：<br>
            
            <pre class="prettyprint"><code lang="scala">val acct = new Account("123-456-789", "Justin Lin")<br>acct.deposit(1000)<br>acct.withdraw(400)<br>println(acct.name)<br>println(acct.balance)</code></pre>
            <br>
            在Scala中，如果函式或方法不帶參數，則括號可以省略。實際上，上面的Account類別在定義上還可以再簡化一些，先前說
              過，雖然沒有表明，不過acctNumber與acctName都是private
              val宣告的，所以在類別中不能改變它的值，但如果你直接在上頭宣告val的話，若沒有指定存取修飾，則預設就是公開。例如：<br>
            
            <div style="margin-left: 40px;"><span

                  style="font-weight: bold;">class Some(val name: String) { //
                  name 預設是公開<br>
                  &nbsp; &nbsp; ...<br>
                </span><span

                  style="font-weight: bold;">}</span><br>
            </div>
            <br>
              其實像是你這麼宣告：<br>
            
            <div style="margin-left: 40px;"><span

                  style="font-weight: bold;">class Some(x: String) {</span><br>
              <span style="font-weight: bold;">&nbsp;
                  &nbsp; val name = x</span><br>
              <span style="font-weight: bold;"></span><span style="font-weight: bold;">}</span><br>
            </div>
            <br>
              所以，上面的Account也可以定義為：<br>
            
            <pre class="prettyprint"><code lang="scala">class Account(<span style="font-weight: bold;">val id: String, val name: String</span>) {<br><span

style="font-weight: bold;">    private var bal: Int = _</span><br>    <br>    def deposit(amount: Int) {<br>        require(amount &gt; 0) // 不能存負數<br>        bal += amount<br>    }<br>    <br>    def withdraw(amount: Int) {<br>        require(amount &gt; 0)     // 不能提負數<br>        if(amount &lt;= bal) {<br>            bal -= amount<br>        }<br>        else {<br>            throw new RuntimeException("餘額不足")<br>        }<br>    }<br>    <br>    def balance = bal<br>}</code></pre>
            <br>
              在bal的撰寫上，預設值寫為_，這代表著依型態自動給出預設值，如果是整數則設定為0，如果是浮點數則設定為0.0，如果是布林值則設定為
              false，如果是其它物件型態則設定為null。<br>
              <br>




<div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
  </article></main></div></body>
<script src="../js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
