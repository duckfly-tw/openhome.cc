<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="到目前為止所撰寫的Scala範例程式，都可以寫在一個.scala的檔案中，使用scala指令以直譯的方式來執行，.scala中可以包括數個類別定義，也可以包括陳述句，這方便你快速撰寫一些簡單類別或程式...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="套件（Package）">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/Scala/Package.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="到目前為止所撰寫的Scala範例程式，都可以寫在一個.scala的檔案中，使用scala指令以直譯的方式來執行，.scala中可以包括數個類別定義，也可以包括陳述句，這方便你快速撰寫一些簡單類別或程式...">


    <title>套件（Package）</title>

<link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="Package.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="https://openhome.cc/Gossip/Scala/">回 Scala 目錄</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>套件（Package）</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            到目前為止所撰寫的Scala範例程式，都可以寫在一個.scala的檔案中，使用scala指令以直譯的方式來執行，.scala中可以包括數個類別定義，也可以包括陳述句，這方便你快速撰寫一些簡單類別或程式。<br><br>一個應用程式中會有多個類別彼此合作，也有可能由多個團隊共同分工，完成應用程式的某些功能塊，再組合在一起。一旦你程式開始要好好地管理類別，你就要為類別分門別類，而不再是一個.scala檔案從頭寫到尾，你要有個分門別類管理類別的方式，無論是實體檔案上的分類管理，或是程式邏輯上的分類管理！<br><br>在Scala中使用套件（Package）機制來管理類別，舉個例子來說，你要將Point類別放在cc.openhome套件中：<br><ul><li>Point.scala</li></ul><pre class="prettyprint"><code lang="scala"><span style="font-weight: bold;">package cc.openhome<br></span>class Point(val x: Int, val y: Int)</code></pre><br>若要以<span style="font-weight: bold;">直譯的方式</span>來使用這個類別，則以上的內容必須存成一個Point.scala，並放在cc資料夾的openhome資料夾中，例如：<br><div style="margin-left: 40px;"><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">|workspace|</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Main.scala</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; |cc|</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |openhome|</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; |Point.scala</span></span><br><span style="font-family: Courier New,Courier,monospace;"></span></div><br>接著你可以如下寫個.scala來直譯執行，例如Main.scala：<br><ul><li>Main.scala</li></ul><pre class="prettyprint"><code lang="scala">val x = new <span style="font-weight: bold;">cc.openhome.Point</span>(1, 1)</code></pre><br>注意！套件名稱與類別名稱會結合為<span style="font-weight: bold;">完全吻合名稱（Fully-qualified name）</span>，以上例來說，類別的完全吻合名稱就是cc.openhome.Point。直譯時，使用scala Main.scala，scala會去尋找對應套件設定的資料夾下，是否有對應的.scala檔案。<br><br><span style="font-weight: bold;"></span>你可以<span style="font-weight: bold;">使用scalac編譯出.class</span>，
例如scalac
Point.scala，這會為你自動建立cc資料夾與openhome子資料夾，然後將Point.class置於openhome資料夾中，接著你在
執行scala指令時，就可以使用-classpath或-cp指定類別路徑來使用編譯好的.class。<br><br><span style="font-weight: bold;">總而言之，Scala套件管理不僅是語法層面的，也是實體檔案管理的一種方式，套件名稱對應至實體資料夾名稱，類別必須放在對應的資料夾之中。</span><br><br>事實上，之前的Point.scala的撰寫方式，其實是以下撰寫方式的語法蜜糖：<br><pre class="prettyprint"><code lang="scala">package cc {<br>    package openhome {<br>        class Point(val x: Int, val y: Int)<br>&nbsp;   }<br>}</code></pre><br>由於cc與openhome套件之間，並沒有別的類別定義，所以也可以撰寫為以下的方式：<br><pre class="prettyprint"><code lang="scala">package cc.openhome {<br>    class Point(val x: Int, val y: Int)<br>}</code></pre><br>Scala也允許你在同一個.scala中巢狀套件，例如：<br><ul><li>Demo.scala</li></ul><pre class="prettyprint"><code lang="scala">package cc {<br>    package openhome {<br>        class Point(val x: Int, val y: Int)<br>    }<br>    package drawing {<br>        class Cricle(val x: Int, val y: Int, val r: Int) {<br>            // 不需要寫 cc.openhome.Point<br>            val center = new <span style="font-weight: bold;">openhome.Point</span>(x, y)<br>        }<br>    }<br>}</code></pre><br>如果你在同一個.scala中巢狀套件，那麼使用當中類別的方式是使用scalac將之編譯為.class，scalac會根據當中的套件資訊建立對應的資料夾，並將.class置入對應的資料夾中，上面的例子中，scalac的結果如下：<br><div style="margin-left: 40px;"><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">|workspace|</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Demo.scala</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; |cc|</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |openhome|</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; |Point.class<br></span></span><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |drawing|</span></span><br><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; |Circle.class</span></span><br></div><br>注意到在上例中，在cc.drawing中的類別在使用到cc.openhome.Point類別時，並不用真的寫cc.openhome.Point，而只要寫openhome.Point，這是因為cc.drawing與cc.openhome的上一層套件都是cc，因此可以省略（你要完整寫出cc.openhome.Point也是可以的）。<br><br>但下面這個範例，使用的是哪個Point類別定義呢？<br><pre class="prettyprint"><code lang="scala">package cc {<br><span style="font-weight: bold;">    package openhome {</span><br><span style="font-weight: bold;">        class Point(val x: Int, val y: Int)</span><br><span style="font-weight: bold;">    }</span><br>    package drawing {<br>        class Cricle(val x: Int, val y: Int, val r: Int) {<br>            // 這個使用的是 cc.openhome.Point <br>            val center = new <span style="font-weight: bold;">openhome.Point</span>(x, y)<br>        }<br>    }<br>}<br><br>package openhome {<br>    class Point(val x: Int, val y: Int)<br>}</code></pre><br>如果你想要使用的，真的就是從最上層套件開始的openhome.Point，而不是cc.openhome.Point，則可以使用<span style="font-weight: bold;">_root_</span>來指定，例如：<br><pre class="prettyprint"><code lang="scala">package cc {<br>    package openhome {<br>        class Point(val x: Int, val y: Int)<br>    }<br>    package drawing {<br>        class Cricle(val x: Int, val y: Int, val r: Int) {<br>            // 這個使用的是 openhome.Point <br>            val center = new <span style="font-weight: bold;">_root_.openhome.Point</span>(x, y)<br>        }<br>    }<br>}<br><br><span style="font-weight: bold;">package openhome {</span><br><span style="font-weight: bold;">    class Point(val x: Int, val y: Int)</span><br><span style="font-weight: bold;">}</span></code></pre>





<br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>

  </article></main></div></body>
<script src="../js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
