<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Scala運行於JVM之上，為了要能執行Scala相關程式，你必須先安裝好JDK，所要求的版本至少為JDK 1.4以上，建議安裝 JDK 5.0以上版本，以在Scala中可使用Java的最新特性，請至...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="指令互動環境">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/Scala/InteractiveShell.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="Scala運行於JVM之上，為了要能執行Scala相關程式，你必須先安裝好JDK，所要求的版本至少為JDK 1.4以上，建議安裝 JDK 5.0以上版本，以在Scala中可使用Java的最新特性，請至...">


    <title>指令互動環境</title>

<link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="InteractiveShell.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="https://openhome.cc/Gossip/Scala/">回 Scala 目錄</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>指令互動環境</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            Scala運行於JVM之上，為了要能執行Scala相關程式，你必須先安裝好JDK，所要求的版本至少為JDK 1.4以上，建議安裝 JDK 5.0以上版本，以在Scala中可使用Java的最新特性，請至 <a href="http://java.sun.com">Java 官方網站</a> 下載JDK並進行安裝。<br><br>接著請至 <a href="http://www.scala-lang.org/">Scala 官方網站</a> 下載Scala，下載完成後解開壓縮檔案，並設置PATH環境變數中帶有Scala的bin資料夾（當然，JDK的bin目錄資訊也必須先設置好），接著進入文字模式，鍵入<span style="font-weight: bold;">scala</span>指令，你可以看到以下畫面：<div class="cmd"><span style="color: rgb(255, 255, 255);">&gt;scala<br>Welcome to Scala version 2.7.7.final (Java HotSpot(TM) Client VM, Java 1.6.0_16)<br>.<br>Type in expressions to have them evaluated.<br>Type :help for more information.</span><span style="color: rgb(255, 255, 255);"><br>




            </span></div>




<br>這是Scala的指令互動環境，可以讓你很快地撰寫一些小指令進行測試（經常的，你只是要看看某個指令這麼用對不對，或會有什麼結果），先來看看幾個簡單的互動：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; 1+2<br>res0: Int = 3<br><br></span><span style="color: rgb(255, 255, 255);">scala&gt; res0<br></span><span style="color: rgb(255, 255, 255);">res1: Int = 3</span><span style="color: rgb(255, 255, 255);">




            </span></div>



<br>這執行了1+2，顯示結果為3，res0代表了互動環境為你暫時命名的變數（如果執行結果沒有指定給任何變數的話），你之後可以直接呼叫該名稱來取得執行結果。res0之後是冒號（:），接著是資料型態，Int表示結果是一個整數。<br><br>在指令互動環境下按Ctrl+A可以將游標移至行首，按Ctrl+E可以將游標移至行尾。<br><br>再來看看其它的一些互動：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; (1 to 3).foreach(println)<br>1<br>2<br>3<br><br>scala&gt; def doSome() {<br>&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; println("Hi")<br>&nbsp;&nbsp;&nbsp;&nbsp; | }<br>doSome: ()Unit<br><br>scala&gt; doSome()<br>Hi<br><br>scala&gt; class Test {<br>&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; p<br>&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp; |<br>You typed two blank lines.&nbsp; Starting a new command.<br><br>scala&gt;</span></div><br>你
可以在互動中直接觀察程式碼的執行結果，如果程式碼定義需要超過一行，只要直接按下Enter，會有個管線符號（|）表示你可以繼續撰寫程式碼，直到程式
碼定義完成（Scala會知道你何時定義完成），如果你在定義程式碼的過程中輸入錯誤了，儘管直接按兩次Enter，兩個空白行後，Scala會回到提示
字元狀態。<br><br>以下是個程式執行錯誤的畫面：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; val x = 10<br>x: Int = 10<br><br>scala&gt; x = 11<br>&lt;console&gt;:5: error: reassignment to val<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x = 11<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ^<br><br>scala&gt;</span></div><br>之後還會介紹到，在Scala中，以val宣告的變數，不可以再度指定值給它，因此在這邊會看到錯誤訊息。不過，Scala互動環境中可以重新命名一個變數：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; val a = 10<br>a: Int = 10<br><br>scala&gt; val a = 10<br>a: Int = 10<br><br>scala&gt;</span></div><br>在實際的程式碼中，同一作用範圍是不可以有相同的變數宣告的，而在互動環境中可以這麼作，這是為了方便你撰寫一些簡單的測試（技術上來說，指令互動環境為每個新的陳述句建立一個巢狀範圍，看來像是重複定義一個變數，其實是在不同的作用範圍）。<br><br>輸入:help可以取得基本協助訊息：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; :help<br>Welcome to Scala version 2.7.7.final (Java HotSpot(TM) Client VM, Java 1.6.0_16)<br>.<br>Type in expressions to have them evaluated.<br>Type :help for more information.<br>Type :load followed by a filename to load a Scala file.<br>Type :replay to reset execution and replay all previous commands.<br>Type :quit to exit the interpreter.<br><br>scala&gt;</span><span style="color: rgb(255, 255, 255);"></span><span style="color: rgb(255, 255, 255);">




            </span></div>


<br>例如，你可以在純文字檔案中撰寫Scala程式碼（Scala建議的副檔名為<span style="font-weight: bold;">.scala</span>），並使用:load載入，可以指定相對路徑或絕對路徑，指定相對路徑時，檔案必須位於執行scala指令的工作路徑之下，例如，你可以撰寫：<br><ul><li>Hello.scala</li></ul><pre class="prettyprint"><code lang="scala">println("Hello!Scala!")</code></pre><br>在指令互動環境下，可如下載入執行Hello.scala：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; :load Hello.scala<br>Loading Hello.scala...<br>Hello!Scala!<br><br>scala&gt; :replay<br>Replaying: :load Hello.scala<br>Loading app.scala...<br>Hello!Scala!<br><br>scala&gt;</span><span style="color: rgb(255, 255, 255);"></span><span style="color: rgb(255, 255, 255);">




            </span></div>

<br>:replay則是讓你重複執行上一次的指令互動，要離開Scala互動環境，可以輸入:quit或exit。<br><br><br><br>
        




<br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>

        </article></main></div></body>
<script src="../js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
