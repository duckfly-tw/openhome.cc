<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Set無序集合物件，物件所收集的元素不重複。在Scala中，預設的Set實作是不可變動的（Immutable），如果你要建立Set實例，以下是個例子：val names1 = Set("Justin"...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="Set 與 Map">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/Scala/SetMap.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="Set無序集合物件，物件所收集的元素不重複。在Scala中，預設的Set實作是不可變動的（Immutable），如果你要建立Set實例，以下是個例子：val names1 = Set("Justin"...">


    <title>Set 與 Map</title>

<link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="SetMap.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="https://openhome.cc/Gossip/Scala/">回 Scala 目錄</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>Set 與 Map</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            Set無序集合物件，物件所收集的元素不重複。在Scala中，預設的Set實作是<span style="font-weight: bold;">不可變動的（Immutable）</span>，如果你要建立Set實例，以下是個例子：<br><pre class="prettyprint"><code lang="scala">val names1 = Set("Justin", "caterpillar", "momor")<br>names1.foreach(println)  // 逐行顯示Justin、caterpillar、momor<br><br>val names2 = names1 + "caterpillar"<br>names2.foreach(println)  // 逐行顯示Justin、caterpillar、momor<br><br>val names3 = names1 + "hamimi"<br>names3.foreach(println)  // 逐行顯示Justin、caterpillar、momor、hamimi</code></pre><br>+
可用來於集合中新增元素，由於預設的Set實作是不可變動的，所以實際上會建立一個新的Set物件傳回，但由於Set中的元素不重複，如果要加入的元素是
重複的，就會直接傳回原來的Set實例，因此範例中names2中實際上並沒有增加元素，而且直接傳回names1的實例。<br><br>要從元素中刪
除某個元素，可以使用-方法。如果要串接兩個Set，則可以使用++（也就是聯集操作，因為Set不允許重複），如果要從某個Set中，刪去另一個Set
物件所指定的元素，則可以使用--，如果要作交集操作，則使用**，如果要比較兩個Set物件的內含元素是否相同，可以直接使用==。以下是直接從直譯環
境作個示範：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; val x = Set(1, 2, 3, 4, 5)<br>x: scala.collection.immutable.Set[Int] = Set(5, 3, 1, 4, 2)<br><br>scala&gt; x - 2<br>res3: scala.collection.immutable.Set[Int] = Set(5, 3, 1, 4)<br><br>scala&gt; x ++ Set(6, 7, 8, 9)<br>res4: scala.collection.immutable.Set[Int] = Set(5, 1, 6, 9, 2, 7, 3, 8, 4)<br><br>scala&gt; x -- Set(2, 3)<br>res5: scala.collection.immutable.Set[Int] = Set(5, 1, 4)<br><br>scala&gt; x ** Set(3, 4, 5, 6, 7)<br>res6: scala.collection.immutable.Set[Int] = Set(5, 3, 4)<br><br>scala&gt; x == Set(1, 2, 3, 4, 5)<br>res7: Boolean = true<br><br>scala&gt;</span><span style="color: rgb(255, 255, 255);"><br>




            </span></div>

<br>剛剛提過，預設的Set實作是不可變動的，實際上，預設是使用 <a href="http://www.scala-lang.org/docu/files/api/scala/collection/immutable/Set.html">scala.collection.immutable.Set</a> 的實作（事實上，不可變動的群集定義都是位於 scala.collection.immutable 套件之中），如果你需要可變動的Set，則可以匯入（import）<a href="http://www.scala-lang.org/docu/files/api/scala/collection/mutable/Set.html">scala.collection.mutable.Set</a>（可變動的群集定義都是位於 scala.collection.mutable 套件之中）。例如：<br><pre class="prettyprint"><code lang="scala">import scala.collection.mutable.Set<br><br>val names = Set("Justin", "caterpillar", "momor")<br>names.foreach(println)<br><br>names += "hamimi"<br>names.foreach(println)   // 逐行顯示Justin、caterpillar、momor、hamimi</code></pre><br>在上例中，呼叫了names的+=方法，由於你匯入了scala.collection.mutable.Set，所以使用的是可變動的Set，+=是該Set實作物件上的方法，這會將元素加入同一個Set實例，而不是建立新的Set實例。<br><br>事實上，先前未匯入scala.collection.mutable.Set時，你程式中所使用的Set名稱所參考的物件，其實是定義在scala.Predef中：<br><div style="margin-left: 40px;"><span style="font-weight: bold;">package scala</span><br><span style="font-weight: bold;">object Predef {</span><br><span style="font-weight: bold;">&nbsp; &nbsp; ...</span><br><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp;type Map[A,&nbsp;B] = collection.immutable.Map[A, B]</span><br><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp;type Set[A] = collection.immutable.Set[A]</span><br><br><span style="font-weight: bold;">&nbsp; &nbsp; val Map = collection.immutable.Map</span><br><span style="font-weight: bold;">&nbsp; &nbsp; val Set = collection.immutable.Set</span><br><span style="font-weight: bold;">&nbsp; &nbsp; ...</span><br><span style="font-weight: bold;">}</span><br></div><br>val宣告了Map與Set分別參考至collection.immutable.Set與collection.immutable.Map物件，而type為collection.immutable.Set[A]與collection.immutable.Map[A, B]建立了別名Set[A]與Map[A, B]。<br><br>Map是具有鍵/值（Key/Value）的字典物件。在Scala中預設的Map實作是不可變動的，理由在上面的程式碼片段可以看到，預設的Map是 <a href="http://www.scala-lang.org/docu/files/api/scala/collection/immutable/Map.html">collection.immutable.Map</a> 的實作。要建立Map物件，以下是個範例：<br><pre class="prettyprint"><code lang="scala">val rooms = Map(101 -&gt; "Justin", 102 -&gt; "caterpillar")<br>println(rooms(101))   // 顯示 Justin<br>println(rooms(102))   // 顯示 caterpillar</code></pre><br><span style="font-family: Courier New,Courier,monospace;">-&gt;</span>左
邊指定鍵，右邊是值。指定鍵要取回值時，是使用()，從先前的介紹你大概也可以推論出，rooms(101)這樣的指定時，其實會轉換為呼叫
rooms.apply(101)這樣的呼叫。由於預設的Map是不可變動的，所以如下要更新Map中的元素，實際上會傳回新的Map物件，例如：<br><pre class="prettyprint"><code lang="scala">val rooms = Map(101 -&gt; "Justin", 102 -&gt; "caterpillar")<br><br> // 下面真正是變成 val newRooms = rooms.apply(101, "Hamimi")<br>val newRooms = rooms(101) = "Hamimi"  <br>println(rooms(101))      // 顯示 Justin<br>println(newRooms(101))   // 顯示 Hamimi</code></pre><br>範
例中第二行程式碼其實是很不直覺，因為=運算應該是沒有傳回值的（也就是結果是Unit），不過事實上如註解中所說明的，rooms(101) =
"Hamimi"實際上會變成rooms.update(101, "Hamimi")，而update方法傳回的是新的Map物件。<br><br>同樣的，如果你要使用可變動的Map實作，則可以匯入 <a href="http://www.scala-lang.org/docu/files/api/scala/collection/mutable/Map.html">collection.mutable.Map</a>，例如：<br><pre class="prettyprint"><code lang="scala">import collection.mutable.Map<br><br>val rooms = Map[String, String]()<br><br>rooms("101") = "Justin"<br>println(rooms("101"))<br><br>rooms += ("102" -&gt; "caterpillar")<br>rooms.foreach(println)</code></pre><br>這個例子同時示範了如何新增鍵/值元素至Map中，也就是使用("102" -&gt; "caterpillar")這樣的寫法，另外也示範了，在呼叫Map的foreach方法時，每次foreach會取得<a href="ListTuple.html"> Tuple</a> 物件，代表了該次迭代時的鍵/值，這個例子會顯示以下的結果：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">Justin<br>(101,Justin)<br>(102,caterpillar)</span><span style="color: rgb(255, 255, 255);"><br>




            </span></div>
<br>下面這個例子則示範如何使用傳入的 Tuple：<br><pre class="prettyprint"><code lang="scala">import collection.mutable.Map<br>val rooms = Map[String, String]()<br><br>rooms("101") = "Justin"<br><br>rooms += ("102" -&gt; "caterpillar")<br>rooms.foreach(element =&gt; { <br>                           val (key, value) = element<br>                           println(key + ": " + value) <br>                         })</code></pre><br>這個例子會顯示以下的結果：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">101: Justin<br>102: caterpillar</span><span style="color: rgb(255, 255, 255);"><br>




            </span></div><br><br>
      




<br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>

  </article></main></div></body>
<script src="../js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
