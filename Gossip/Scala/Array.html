<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="在Scala中，如果要建立陣列，可以使用Array類別，建立陣列時，必須指定陣列後所存放的元素型態。例如以下建立長度為5，內含Int、Double、Boolean、String等指定型態的陣列：sca...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="Array">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/Scala/Array.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="在Scala中，如果要建立陣列，可以使用Array類別，建立陣列時，必須指定陣列後所存放的元素型態。例如以下建立長度為5，內含Int、Double、Boolean、String等指定型態的陣列：sca...">


    <title>Array</title>

<link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="Array.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="https://openhome.cc/Gossip/Scala/">回 Scala 目錄</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>Array</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            在Scala中，如果要建立陣列，可以使用Array類別，建立陣列時，必須指定陣列後所存放的元素型態。例如以下建立長度為5，內含Int、Double、Boolean、String等指定型態的陣列：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; val arr1 = new Array[Int](5)<br>arr1: Array[Int] = Array(0, 0, 0, 0, 0)<br><br>scala&gt; val arr2 = new Array[Double](5)<br>arr2: Array[Double] = Array(0.0, 0.0, 0.0, 0.0, 0.0)<br><br>scala&gt; val arr3 = new Array[Char](5)<br>arr3: Array[Char] = Array( , &nbsp;, &nbsp;, &nbsp;, &nbsp;)<br><br>scala&gt; val arr4 = new Array[Boolean](5)<br>arr4: Array[Boolean] = Array(false, false, false, false, false)<br><br>scala&gt; val arr5 = new Array[String](5)<br>arr5: Array[String] = Array(null, null, null, null, null)<br><br>scala&gt;&nbsp;<br></span><span style="color: rgb(255, 255, 255);">




            </span></div>

<br>在建立陣列之後，如果內含元素是整數，則預設值為0，浮點數則預設值為0.0，字元則預設值為空字元（字元編碼為0的字元），布林值預設為false，其它型態則預設值為null（與Java的陣列類似）。<br><br>如果要多維陣列，基本上是以一維陣列來摸擬，例如要建立二維陣列：<br><div class="cmd"><span style="color: rgb(255, 255, 255);">scala&gt; val arr = new Array[Array[Int]](5, 5)<br>arr:
Array[Array[Int]] = Array(Array(0, 0, 0, 0, 0), Array(0, 0, 0, 0, 0),
Array(0, 0, 0, 0, 0), Array(0, 0, 0, 0, 0), Array(0, 0, 0, 0, 0))<br><br>scala&gt;<br></span><span style="color: rgb(255, 255, 255);">




            </span></div>
<br>如果要存取陣列，必須指定陣列索引，與其它語言存取陣列慣例不同的是，在Scala中，指定陣列索引時是使用()而非[]，例如：<br><pre class="prettyprint"><code lang="scala">val arr = new Array[Int](3)<br>arr(0) = 10<br>arr(1) = 20<br>arr(2) = 30<br>println(arr(0)) // 顯示 10<br>println(arr(1)) // 顯示 20<br>println(arr(2)) // 顯示 30</code></pre><br>事實上，當你使用arr(0) = 10這樣的指定方式時，Scala會將之轉換為呼叫陣列的<span style="font-weight: bold;">update()</span>方法，而你用arr(0)的方式要取得指定索引的元素時，Scala會將之轉換為呼叫<span style="font-weight: bold;">apply</span>方法。以下是個簡單的驗證方式：<br><pre class="prettyprint"><code lang="scala">val arr = new Array[Int](3)<br>arr.update(0, 10)<br>arr.update(1, 20)<br>arr.update(2, 30)<br>println(arr.apply(0)) // 顯示 10<br>println(arr.apply(1)) // 顯示 20<br>println(arr.apply(2)) // 顯示 30</code></pre><br><span style="font-weight: bold;">在Scala中，指定索引進行存取時使用()而不是[]，其實是為了語法的一致性。</span>這種在()中指定索引進行存取的方式，並非只有陣列專屬，只要是有提供update()或apply()方法的物件，其實都可以使用這樣的存取方式，像是在 <a href="String.html">String</a> 也曾經使用過這樣的方式：<br><pre class="prettyprint"><code lang="scala">val str = "Scala"<br>println(str(0)) // 顯示 'S' <br>println(str(1)) // 顯示 'c' <br>println(str(2)) // 顯示 'a' <br>println(str(3)) // 顯示 'l' <br>println(str(4)) // 顯示 'a' </code></pre><br>如果你要在建立陣列時，一併指定元素值，則可以直接使用以下的語法：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30)<br>for(i &lt;- 0 until arr.length) {<br>    println(arr(i))<br>}</code></pre><br>其實在 <a href="SingletonObject.html">單例物件</a> 中有介紹過了，Array(10, 20, 30)這樣的寫法是個語法蜜糖，Scala會將之轉換為呼叫 <a href="https://www.scala-lang.org/docu/files/api/scala/Array\$object.html">scala.Array</a> 伴侶物件的apply方法，這個方法會傳回含指定元素的陣列。以下這個程式可以驗證這個說法：<br><pre class="prettyprint"><code lang="scala">val arr = Array.apply(10, 20, 30)<br>for(i &lt;- arr) {<br>    println(i)<br>}</code></pre><br>上面這個範例程式，同時示範了迭代陣列的另一種方式，每一次迭代，都會將arr的元素取出指定給i。事實上，陣列提供foreach方法可以使用，上面的程式你可以這麼撰寫：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30)<br>arr.foreach((i: Int) =&gt; println(i))</code></pre><br>在 <a href="Function.html">簡單的函式</a> 中有介紹過，foreach中是函式字面寫法，執行時期會傳入函式物件，每次取出一個元素，就會呼叫函式物件。你可以利用類型推斷，讓這個範例更簡短一些：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30)<br>arr.foreach(i =&gt; println(i))</code></pre><br>arr.foreach(i =&gt; println(i))其實是arr.foreach((i) =&gt; println(i))簡寫，因為只有一個參數，所以括號可以省略。事實上，就上面這個例子來說，最簡短的寫法是：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30)<br>arr.foreach(println)</code></pre><br>事實上，foreach中是<span style="font-weight: bold;"> <a href="PartiallyAppliedFunction.html">部份套用函式（Partially applied function）</a></span>的寫法，這之後還會詳述。<br><br>像foreach這種傳入函式物件執行某個操作的作法，在Scala相當常見。例如陣列的filter方法，可以傳入一個會運算出布林值的函式物件，根據真或假決定結果要包括哪些元素，例如：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30, 40, 50, 60)<br>arr.filter(x =&gt; x &gt; 30).foreach(println)</code></pre><br>事實上，上面這個程式可以使用<span style="font-weight: bold;">佔位字元語法（Placeholder syntax）</span>撰寫為以下的方式：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30, 40, 50, 60)<br>arr.filter(_ &gt; 30).foreach(println) // 逐行顯示 40、50、60</code></pre><br>_
作為佔位字元，就目前來說，你可以將看它看作是填充欄位，每一次取得的元素值將值入這個欄位（其實完整的語法應該是(_ : Int) &gt;
30，不過由於利用了類型推斷，所以可以推斷出_應該是Int，因此可以寫為_ &gt; 30，佔位字元語言之後還會詳述）。<br><br>類似地，如果你不僅是想過濾，還想對元素作某些運算後傳回的話，則可以使用map方法，例如將每個元素加1後傳回新陣列：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30)<br>arr.map(_ + 1).foreach(println) // 逐行顯示 11、21、31</code></pre><br>上例中直接使用了佔位字元語法，如果要寫的詳細的話，其實是要寫為：<br><pre class="prettyprint"><code lang="scala">val arr = Array(10, 20, 30)<br>arr.map(x =&gt; x + 1).foreach(println) // 逐行顯示 11、21、31</code></pre><br>陣列可以串接，不過不是使用+，而是使用++（這是Array上定義的方法），這會將兩個陣列的元素取出，建立一個新陣列後傳回。例如：<br><pre class="prettyprint"><code lang="scala">val arr1 = Array(10, 20, 30)<br>val arr2 = Array(40, 50, 60)<br>(arr1 ++ arr2).foreach(println) // 逐行顯示 10、20、30、40、50、60</code></pre><br>如果你要比較兩個陣列的內含值是否相同，由於要逐一比對陣列中每個陣列的元素物件內含值，所以不能直接使用==比較，而要使用deepEquals方法。例如：<br><pre class="prettyprint"><code lang="scala">val arr1 = Array(10, 20, 30)<br>val arr2 = Array(10, 20, 30)<br>println(arr1 == arr2)          // 顯示 false<br>println(arr1 deepEquals arr2)  // 顯示 true</code></pre><br>




<br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>

  </article></main></div></body>
<script src="../js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
