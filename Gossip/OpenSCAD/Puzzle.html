<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="在我的作品中，有一系列的 拼圖 設計，這一系列的拼圖，都是從 Puzzle generator 衍生而來：
一個拼圖片
如果只是要做個拼圖片，確實沒什麼難的，只要正方形與圓，加上一些交集或減集就可以...">
    <meta property="og:locale" content="zh_TW">
    <meta property="og:title" content="拼圖">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://openhome.cc/Gossip/OpenSCAD/Puzzle.html">
    <meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
    <meta property="og:site_name" content="OPENHOME.CC">
    <meta property="og:description" content="在我的作品中，有一系列的 拼圖 設計，這一系列的拼圖，都是從 Puzzle generator 衍生而來：
一個拼圖片
如果只是要做個拼圖片，確實沒什麼難的，只要正方形與圓，加上一些交集或減集就可以...">
    <title>拼圖</title>
    <link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
    <link rel="stylesheet" href="../css/caterpillar.css">
    <script async="" src="../google-code-prettify/run_prettify.js"></script>
  <!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
  <body>
    <div id="layout">
      <!-- Menu toggle --> <a href="Puzzle.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --> <span></span> </a>
      <div id="menu">
        <div class="pure-menu"> <a class="pure-menu-heading" href="https://openhome.cc/Gossip/OpenSCAD/index.html">回
            OpenSCAD 目錄</a>
          <ul class="pure-menu-list">
            <li class="pure-menu-item"><br>
              <div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img
                    title="Twitter" alt="Twitter" src="../images/twitter.png"></a>
                <a href="http://www.facebook.com/openhome.cc"><img title="Facebook"
                    alt="Facebook" src="../images/facebook.png"></a>
                </div>
              <br>
              <div id="search box">
                <script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div>
              <br>
              <div class="ad" style="text-align: center;">
                <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- 2015 新版型 160 x 600 廣告 -->
                <ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px"
                  data-ad-client="ca-pub-9750319131714390" data-ad-slot="3747048883"></ins>
                <script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
          </ul>
        </div>
      </div>
      <main id="main">
        <header class="header">
          <h1>拼圖</h1>
        </header>
        <article class="content"> <br>
          <div class="ad-3" style="text-align: center;">
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="7104125683" data-ad-format="auto"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <p>在我的作品中，有一系列的 <a href="https://www.thingiverse.com/JustinSDK/collections/puzzles">拼
              圖</a> 設計，這一系列的拼圖，都是從 <a href="https://www.thingiverse.com/thing:1427568">Puzzle
              generator</a> 衍生而來：</p>
          <p><a href="https://www.thingiverse.com/thing:1427568"></a></p>
          <div class="pure-g">
            <div class="pure-u-1"><a href="https://www.thingiverse.com/thing:1427568"><img
                  class="pure-img-responsive" src="http://thingiverse-production-new.s3.amazonaws.com/renders/cc/eb/4a/15/21/eb2304412cbe87473009958db66fb83e_preview_featured.jpg"
                  alt="Puzzle generator"></a></div>
          </div>
          <p></p>
          <h1>一個拼圖片</h1>
          <p>如果只是要做個拼圖片，確實沒什麼難的，只要正方形與圓，加上一些交集或減集就可以了：</p>
          <pre class="prettyprint"><code lang="openscad">length = 20;
spacing = 0.5;

p_offset = length * 9 / 16 + spacing / 2;
n_offset = -length * 7 / 16 - spacing / 2;
convex_radius = length / 8 - spacing / 2;
concave_radius = length / 8 + spacing / 2;

$fn = 24;

difference() {
    union() {
        square(length, center = true);
        translate([p_offset, 0]) 
            circle(convex_radius);
        translate([0, p_offset]) 
            circle(convex_radius);
    }

    translate([n_offset, 0]) 
        circle(concave_radius);
    translate([0, n_offset]) 
        circle(concave_radius);
}
</code></pre>
          <p>為了能讓拼圖片卡住，圓形凹凸與正方形的邊並不是交在半圓處，我這邊設計交在四分之三圓處，另一個要注意的是，凹凸以及拼圖片之間的接合，必須
            留足夠的間隙，這樣才能卡進去，這間隙視使用的 3DP 使用的線材，以及列印時的參數而定，基本上，0.5
            應該是可以的，不過，還是留個參數會比較好，方便隨時調整。</p>
          <p>為了簡化範例，這裡每邊只設計了一個凹凸：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/Puzzle-1.JPG"
                alt="拼圖"></div>
          </div>
          <p></p>
          <h1>很多拼圖片</h1>
          <p>如果想要很多拼圖片呢？在切片軟體中多複製幾個就可以了，對吧！是沒錯，不過這也是程式建模的優勢之處，直接用程式產生的話，跑個迴圈就可以
            了：</p>
          <pre class="prettyprint"><code lang="openscad">length = 20;
spacing = 0.5;
x_puzzles = 11;
y_puzzles = 6;

module puzzle_piece(length, spacing = 0.5) {
    p_offset = length * 9 / 16 + spacing / 2;
    n_offset = -length * 7 / 16 - spacing / 2;

    convex_radius = length / 8 - spacing / 2;
    concave_radius = length / 8 + spacing / 2;

    $fn = 24;

    translate([length / 2, length / 2]) difference() {
        union() {
            square(length, center = true);
            translate([p_offset, 0]) 
                circle(convex_radius);
            translate([0, p_offset]) 
                circle(convex_radius);
        }

        translate([n_offset, 0]) 
            circle(concave_radius);
        translate([0, n_offset]) 
            circle(concave_radius);
    }
}

for(x = [0:x_puzzles - 1]) {
    for(y = [0:y_puzzles - 1]) {
        translate([x * (length + spacing), y * (length + spacing)]) 
            puzzle_piece(length, spacing = 0.5);
    }
}
</code></pre>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/Puzzle-2.JPG"
                alt="拼圖"></div>
          </div>
          <p></p>
          <h1>修邊</h1>
          <p>基本上到這邊就可以結束了，只不過，如果想要再龜毛一點，邊邊不要有凹凸的話：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/Puzzle-3.JPG"
                alt="拼圖"></div>
          </div>
          <p></p>
          <p>特別設計出邊緣與角落的拼圖片是也可以，不過這個需求可以投機取巧一些，將前一次程式碼的成果，先用一些小圓把邊邊的凹填住：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/Puzzle-4.JPG"
                alt="拼圖"></div>
          </div>
          <p></p>
          <p>然後，建立一個長方形，跟上面的圖取交集就可以了：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/Puzzle-5.JPG"
                alt="拼圖"></div>
          </div>
          <p></p>
          <p>依照以上的想法，可以完成以下的程式碼：</p>
          <pre class="prettyprint"><code lang="openscad">length = 20;
spacing = 0.5;
x_puzzles = 10;
y_puzzles = 5;

module puzzle_piece(length, spacing = 0.5) {
    p_offset = length * 9 / 16 + spacing / 2;
    n_offset = -length * 7 / 16 - spacing / 2;

    convex_radius = length / 8 - spacing / 2;
    concave_radius = length / 8 + spacing / 2;

    $fn = 24;

    translate([length / 2, length / 2]) difference() {
        union() {
            square(length, center = true);
            translate([p_offset, 0]) 
                circle(convex_radius);
            translate([0, p_offset]) 
                circle(convex_radius);
        }

        translate([n_offset, 0]) 
            circle(concave_radius);
        translate([0, n_offset]) 
            circle(concave_radius);
    }
}


module puzzle(x_puzzles, y_puzzles, length, spacing = 0.5) {
    intersection() {
        square([
            x_puzzles * (length + spacing) - spacing, 
            y_puzzles * (length + spacing) - spacing]
        );

        for(x = [0:x_puzzles - 1]) {
            for(y = [0:y_puzzles - 1]) {
                translate([x * (length + spacing), y * (length + spacing)])
                union() {
                    puzzle_piece(length, spacing = 0.5);
                    if(x == 0) {
                        translate([0, length / 2]) 
                            circle(length / 4, $fn = 24);
                    }
                    if(y == 0) {
                        translate([length / 2, 0]) 
                            circle(length / 4, $fn = 24);
                    }           
                }
            }
        }
    }
}

puzzle(x_puzzles, y_puzzles, length, spacing);
</code></pre>
          <p>接下來就是發揮巧思的時候了，你的拼圖上想什麼呢？從底下這個簡單的九九乘法表開始作為練習，會是個不錯的選擇：</p>
          <p><a href="https://www.thingiverse.com/thing:1443861"></a></p>
          <div class="pure-g">
            <div class="pure-u-1"><a href="https://www.thingiverse.com/thing:1443861"><img
                  class="pure-img-responsive" src="http://thingiverse-production-new.s3.amazonaws.com/renders/39/80/75/4e/de/2c09d485905986e153babcd68421fe5a_preview_featured.JPG"
                  alt="Multiplication puzzle generator"></a></div>
          </div>
          <p></p>
          <br>
          <br>
          <div class="ad336-280" style="text-align: center;">
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins
              class="adsbygoogle" style="display:inline-block;width:336px;height:280px"
              data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <br>
          <div class="recommend" style="text-align: center;">
            <hr>
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article>
      </main>
    </div></body>
    <script src="../js/ui.js"></script>
    <div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>

</html>
