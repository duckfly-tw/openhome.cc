<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta http-equiv="refresh" content="0; URL=https://openhome.cc/Gossip/OpenSCAD/'https://openhome.cc/zh-tw/openscad/basics/cheatsheet/'">
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="想學習 OpenSCAD，〈OpenSCAD User Manual〉算是個蠻完整的說明，有時間其實應該好好看一下，不過老實說，我也沒有全部看完過，大部份的時間裏，我都是查詢〈OpenSCAD Che...">
    <meta property="og:locale" content="zh_TW">
    <meta property="og:title" content="使用 OpenSCAD CheatSheet">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://openhome.cc/Gossip/OpenSCAD/CheatSheet.html">
    <meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
    <meta property="og:site_name" content="OPENHOME.CC">
    <meta property="og:description" content="想學習 OpenSCAD，〈OpenSCAD User Manual〉算是個蠻完整的說明，有時間其實應該好好看一下，不過老實說，我也沒有全部看完過，大部份的時間裏，我都是查詢〈OpenSCAD Che...">
    <title>使用 OpenSCAD CheatSheet</title>
    <link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
    <link rel="stylesheet" href="../css/caterpillar.css">
    <script async="" src="../google-code-prettify/run_prettify.js"></script>
    <!-- 網頁層級廣告 -->
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script>
  </head>
  <body>
    <div id="layout">
      <!-- Menu toggle --> <a href="CheatSheet.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --> <span></span> </a>
      <div id="menu">
        <div class="pure-menu"> <a class="pure-menu-heading" href="https://openhome.cc/Gossip/OpenSCAD/index.html">回
            OpenSCAD 目錄</a>
          <ul class="pure-menu-list">
            <li class="pure-menu-item"><br>
              <div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img
                    title="Twitter" alt="Twitter" src="../images/twitter.png"></a>
                <a href="http://www.facebook.com/openhome.cc"><img title="Facebook"
                    alt="Facebook" src="../images/facebook.png"></a>
                </div>
              <br>
              <div id="search box">
                <script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div>
              <br>
              <div class="ad" style="text-align: center;">
                <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- 2015 新版型 160 x 600 廣告 --> <ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px"
                  data-ad-client="ca-pub-9750319131714390" data-ad-slot="3747048883"></ins>
                <script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
          </ul>
        </div>
      </div>
      <main id="main">
        <header class="header">
          <h1>使用 OpenSCAD CheatSheet</h1>
        </header>
        <article class="content"> <br>
          <div class="ad-3" style="text-align: center;">
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="7104125683" data-ad-format="auto"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <p>想學習 OpenSCAD，〈<a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual">OpenSCAD
              User Manual</a>〉算是個蠻完整的說明，有時間其實應該好好看一下，不過老實說，我也沒有全部看完過，大部份的時間裏，我都是
            查詢〈<a href="http://www.openscad.org/cheatsheet/index.html">OpenSCAD
              CheatSheet</a>〉，知道想使用的模組、轉換等如何使用，然後就動手做了…XD</p>
          <p><a href="http://www.openscad.org/cheatsheet/index.html"></a></p>
          <div class="pure-g">
            <div class="pure-u-1"><a href="http://www.openscad.org/cheatsheet/index.html"><img
                  class="pure-img-responsive" src="http://www.openscad.org/assets/img/openSCAD_cheat_sheet.png"
                  alt="OpenSCAD CheatSheet"></a></div>
          </div>
          <p></p>
          <p>在〈<a href="https://openhome.cc/Gossip/OpenSCAD/HelloOpenSCAD.html">Hello,
              OpenSCAD!</a>〉中看到了基本的 OpenSCAD 程式樣貌，像是變數、<code>for</code> 語法、<code>cube</code>、<code>text</code>
            模組、<code>translate</code>、<code>rotate</code> 轉換等，這邊就以 OpenSCAD
            CheatSheet 中的說明來進行。</p>
          <h1>變數</h1>
          <p>首先你看到的是變數，其說明是列在〈<a href="http://www.openscad.org/cheatsheet/index.html">OpenSCAD
              CheatSheet</a>〉的 Syntax 區域：</p>
          <pre class="prettyprint"><code lang="openscad">my_text = "Hello, OpenSCAD!";
step_angle = 30;
radius = 30;
height = 5;
</code></pre>
          <p>乍看沒什麼，就像是個動態定型語言，不需要宣告變數型態，不過，在〈<a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/General#Variables">Variable</a>〉
            中有這麼一句話：</p>
          <blockquote>
            <p>OpenSCAD is a <strong>Functional programming language</strong>,
              as such variables are bound to expressions and keep a single value
              during their entire lifetime due to the requirements of
              referential transparency.</p>
          </blockquote>
          <p>由於我一開始是邊做邊學，確實沒有注意到 Functional programming 這件事，也因此在〈<a href="http://www.ithome.com.tw/voice/102101">挑
              戰OpenSCAD迷宮產生器</a>〉時，讓我吃足了苦頭，不過都克服過來了，現在是用得蠻順手的，以後有人問我 Functional
            programming 可以用在哪，至少我可以舉 OpenSCAD 當作例子了。</p>
          <p>不過，說是 Functional programming
            語言，還是有些不同，你對同一變數多次設值，是不會產生錯誤，只是同一範圍中，只會有一個值，而同一範圍中，無論你在哪些地方取值，取得的一定是最後一次設定的值。例如：</p>
          <pre class="prettyprint"><code lang="openscad">x = 1;
echo(x); // 顯示 2
x = 2;
echo(x); // 顯示 2
</code></pre>
          <p>你可以在 OpenSCAD 的環境右下角 Console 看到兩次的 “ECHO: 2”。至於這個行為在〈<a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/General#Variables_are_set_at_compile-time.2C_not_run-time">Variables
              are set at compile-time, not run-time</a>〉有解釋為什麼，總之，別管這個行為，就照著
            Functional programming 的基本概念，變數只能指定值一次，之後就是 Immutable 就是了。</p>
          <h1>for 迴圈</h1>
          <p>你看到的 <code>for</code> 迴圈，是列在 〈<a href="http://www.openscad.org/cheatsheet/index.html">OpenSCAD
              CheatSheet</a>〉 的 Other 區域中，在〈<a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Conditional_and_Iterator_Functions#For_Loop">For
              Loop</a>〉的說明中有些範例，看了就明白了。</p>
          <p>在〈<a href="https://openhome.cc/Gossip/OpenSCAD/HelloOpenSCAD.html">Hello,
              OpenSCAD!</a>〉中，看到的是最基本的 <code>for(variable = [start : end])</code>
            形式，會產生 <code>start</code> 到 <code>end</code> 的數字，並指定給 <code>variable</code>，
            每次遞增 1，因此…</p>
          <pre class="prettyprint"><code lang="openscad">for (a =[3:5]) {
    echo(a);
}
</code></pre>
          <p>會在 Console 中看到 3、4、5 的顯示，不過，別以為以下最後會顯示 12：</p>
          <pre class="prettyprint"><code lang="openscad">sum = 0;
for (a =[3:5]) {
    sum = sum + a;
    echo(sum);
}
echo(sum);
</code></pre>
          <p>實際上的結果最後會顯示 0，該怎麼說？官方說明是說，同一範圍中，一個變數只會有一個值，這對 <code>for</code>
            也不例外，也就是說，<code>for</code> 外是一個範圍，因此，對 <code>for</code> 外頭來說，<code>sum</code>
            的值一定是剛開始設定的 0，至於 <code>for</code> 中就比較難理解了，比較像是每次都複製出 <code>sum</code>
            的值 0，然後加 <code>a</code> 後指定給一個<strong>新變數</strong> <code>sum</code>，
            因此你會看到的顯示是 3、4、5、0。</p>
          <p>好吧！我也覺得以上這說明有點難懂，從 Functional programming 的角度來想或許比較簡單，因為 Functional
            programming 中是沒有迴圈的，只有遞迴，因此，你可以將 <code>for</code>
            看成是一個遞迴的語法糖，會比較好懂，就像是：</p>
          <pre class="prettyprint"><code lang="openscad">module forLoop(range, value) {
    if(range[0] &lt;= range[1]) {
        sum = value + range[0];
        echo(sum);
        forLoop([range[0] + 1, range[1]], value);
    } 
}

sum = 0;
forLoop([3, 5], sum);
echo(sum);
</code></pre>
          <p>這樣的話，對最後結果會產生 3、4、5、0，也就不感到意外了，至於 <code>module</code>，之後還會說明，現在你可以
            暫且將之當成是其他命令式語言中的函式或方法。</p>
          <h1>3D 模組</h1>
          <p>在〈<a href="https://openhome.cc/Gossip/OpenSCAD/HelloOpenSCAD.html">Hello,
              OpenSCAD!</a>〉中一開始看到的 <code>cube</code> 模組，列在〈<a href="http://www.openscad.org/cheatsheet/index.html">OpenSCAD
              CheatSheet</a>〉的 3D 區域，顧名思義，就是建立 3D 物件用的模組，在〈<a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Primitive_Solids#cube">cube</a>〉
            說明中，可以看到一些範例，<code>cube</code> 可用來繪製立方體。</p>
          <p>最主要的是可以記得兩點：一是當使用陣列指定時，三個數值分別是座標 <code>x</code>、<code>y</code>、<code>z</code>，
            大部份的情況下，總是要指定三個值，畢竟建立正立方體的機會沒那麼多；第二點是可以指定 <code>center = true</code>，
            這會讓模型以原點來置中，大部份的 3D 模組，多半可以有這個參數。</p>
          <p>你也可以看到，<code>cube</code> 可以有 <code>cube(size = [x,y,z], center =
              true)</code> 這樣的指定方式，這很方便，因為可以不用管參數順序，只要記得參數名稱，也就是說，<code>cube(center
              = true, size = [x,y,z])</code> 也是可以的。</p>
          <h1>2D 模組</h1>
          <p>建立文字時使用了 <code>text</code> 模組，這是歸類在〈<a href="http://www.openscad.org/cheatsheet/index.html">OpenSCAD
              CheatSheet</a>〉的 2D 區域，你可以在〈<a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Text">OpenSCAD
              User Manual/Text</a>〉看到，可以設定的參數還蠻多的，就我目前而言，基本上只用過 <code>text</code>、<code>size</code>
            與 <code>font</code> 這三個參數。</p>
          <p><code>text</code> 參數沒有問題，就是你要指定的文字，不好打出來的特殊字元，也可以使用 Unicode 碼指定，例如：</p>
          <pre class="prettyprint"><code lang="openscad">text("\u20AC 10 \u263A");
</code></pre>
          <p>這會顯示歐元符號、10 與一個笑臉：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/CheatSheet-1.JPG"
                alt="OpenSCAD CheatSheet"></div>
          </div>
          <p></p>
          <p><code>size</code> 參數預設是 10，單位是 mm，至於 <code>font</code> 則是<strong>字
              型名稱</strong>，如果你要能建立中文，第一要讓 .scad 檔案是 UTF-8
            編碼，第二是要指定中文字型，例如，來個「標楷體」的「春」字：</p>
          <pre class="prettyprint"><code lang="openscad">text("春", font = "標楷體");
</code></pre>
          <p>這會建立以下的文字：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/CheatSheet-2.JPG"
                alt="OpenSCAD CheatSheet"></div>
          </div>
          <p></p>
          <p>你也可以加粗或者是斜體，方式就如文件中說明的例子之一 <code>font="Liberation Sans:style=Bold
              Italic"</code>，在字型名稱號加上冒號，使用 <code>style</code> 指定 <code>Bold</code>、<code>Italic</code>
            等。</p>
          <h1>extrude</h1>
          <p>上頭說 <code>text</code> 列於 2D 模組，也就是說，即使看起來有厚度，也只是看起來而已，它並不是建立 3D
            模型，只是 2D 平面上的一張圖而已，要讓 2D 變 3D，你得進行 extrude 的動作。</p>
          <p>在〈<a href="https://openhome.cc/Gossip/OpenSCAD/HelloOpenSCAD.html">Hello,
              OpenSCAD!</a>〉看到的是 <code>linear_extrude</code>，它歸類於〈<a href="http://www.openscad.org/cheatsheet/index.html">OpenSCAD
              CheatSheet</a>〉的 Other 之中。最基本的當然是給予 2D 一個厚度，成為 3D 物件，像是…</p>
          <pre class="prettyprint"><code lang="openscad">linear_extrude(10) text("春", font = "標楷體");
</code></pre>
          <p>注意，<code>linear_extrude(10)</code>
            之後不用分號，這類輔助某個模組的操作，後頭都是接上某個完成操作的模組。這會建立以下的 3D 模型：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/CheatSheet-3.JPG"
                alt="OpenSCAD CheatSheet"></div>
          </div>
          <p></p>
          <h1>轉換</h1>
          <p>在〈<a href="https://openhome.cc/Gossip/OpenSCAD/HelloOpenSCAD.html">Hello,
              OpenSCAD!</a>〉看到的 <code>translate</code> 與 <code>rotate</code>，很
            簡單，前者以陣列指定 X、Y、Z 座標對模型作平移，後者以陣列指定繞 X、Y、Z 的轉動角度，對模型做旋轉，舉例來說：</p>
          <pre class="prettyprint"><code lang="openscad">translate([-5, -5, -5])
    linear_extrude(10) 
        text("春", font = "標楷體"); 
</code></pre>
          <p>會讓方才建立的「春」整個以原點置中，結果就是…</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/CheatSheet-4.JPG"
                alt="OpenSCAD CheatSheet"></div>
          </div>
          <p></p>
          <p>如果接下來再繞 X 軸轉動 90 度…</p>
          <pre class="prettyprint"><code lang="openscad">rotate([90, 0, 0])
    translate([-5, -5, -5])
        linear_extrude(10) 
            text("春", font = "標楷體");
</code></pre>
          <p>就會產生以下的結果：</p>
          <p></p>
          <div class="pure-g">
            <div class="pure-u-1"><img class="pure-img-responsive" src="images/CheatSheet-5.JPG"
                alt="OpenSCAD CheatSheet"></div>
          </div>
          <p></p>
          <p>你可以看到，<code>rotate</code>、<code>translate</code>、<code>linear_extrude</code>
            連續對一個模組進行操作，中間不用逗號，而我喜歡將它們適當地縮排，因為這會比 <code>rotate([90, 0, 0])
              translate([-5, -5, -5]) linear_extrude(10) text("春", font =
              "標楷體");</code>
            容易讀得多，當然，這類操作多了之後，縮排太多層也是很困擾的，這時可以用自訂模組來處理，這就之後再說明了。</p>
          <br>
          <br>
          <div class="ad336-280" style="text-align: center;">
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins
              class="adsbygoogle" style="display:inline-block;width:336px;height:280px"
              data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
          <br>
          <div class="recommend" style="text-align: center;">
            <hr>
            <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins
              class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390"
              data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div>
        </article>
      </main>
    </div>
    <script src="../js/ui.js"></script>
    <div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
  </body>
</html>
