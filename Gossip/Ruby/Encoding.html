<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="åœ¨Ruby
              1.8ï¼Œç¨‹å¼ä¸­æ‰€æœ‰å­—ä¸²ï¼Œå…¶å¯¦éƒ½æ˜¯åŸå§‹ä½å…ƒçµ„é›†åˆï¼Œå¦‚æœåŸå§‹ç¢¼ä¸­æ’°å¯«äº†éè¥¿æ­å­—å…ƒï¼Œå¯æ”¯æ´çš„ç·¨ç¢¼åƒ…æœ‰
              Shift-JISï¼ˆå•Ÿå‹•ruby...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="é—œæ–¼ç·¨ç¢¼">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/Ruby/Encoding.html">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="åœ¨Ruby
              1.8ï¼Œç¨‹å¼ä¸­æ‰€æœ‰å­—ä¸²ï¼Œå…¶å¯¦éƒ½æ˜¯åŸå§‹ä½å…ƒçµ„é›†åˆï¼Œå¦‚æœåŸå§‹ç¢¼ä¸­æ’°å¯«äº†éè¥¿æ­å­—å…ƒï¼Œå¯æ”¯æ´çš„ç·¨ç¢¼åƒ…æœ‰
              Shift-JISï¼ˆå•Ÿå‹•ruby...">


    <title>é—œæ–¼ç·¨ç¢¼</title>

<link rel="stylesheet" href="http://openhome.cc/Gossip/css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="http://openhome.cc/Gossip/css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="http://openhome.cc/Gossip/css/caterpillar.css">
     <script async src="http://openhome.cc/Gossip/google-code-prettify/run_prettify.js"></script>
<!-- ç¶²é å±¤ç´šå»£å‘Š --><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="Encoding.html#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="http://openhome.cc/Gossip/Ruby/">å› Ruby ç›®éŒ„</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 æ–°ç‰ˆå‹ 160 x 600 å»£å‘Š -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>é—œæ–¼ç·¨ç¢¼</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 æ–°ç‰ˆå‹å›æ‡‰å¼å»£å‘Š --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            åœ¨Ruby
              1.8ï¼Œç¨‹å¼ä¸­æ‰€æœ‰å­—ä¸²ï¼Œå…¶å¯¦éƒ½æ˜¯åŸå§‹ä½å…ƒçµ„é›†åˆï¼Œå¦‚æœåŸå§‹ç¢¼ä¸­æ’°å¯«äº†éè¥¿æ­å­—å…ƒï¼Œå¯æ”¯æ´çš„ç·¨ç¢¼åƒ…æœ‰
              Shift-JISï¼ˆå•Ÿå‹•rubyæ™‚æŒ‡å®š-Ksï¼‰ã€EUC-JPï¼ˆå•Ÿå‹•rubyæ™‚æŒ‡å®š-Keï¼‰ã€UTF-8ï¼ˆå•Ÿå‹•rubyæ™‚æŒ‡å®š-Kuï¼‰ã€‚<br>
              <br>
              å¦‚æœè¦åœ¨åŸå§‹ç¢¼ä¸­æ’°å¯«ä¸­æ–‡ï¼Œæ–¹å¼ä¹‹ä¸€æ˜¯ä½¿ç”¨Big5çš„åŸå§‹ç¢¼æª”æ¡ˆï¼Œä¸¦åœ¨å•Ÿå‹•rubyæ™‚æŒ‡å®š-Ksæˆ–-Keï¼Œä½¿ç”¨èˆ‡Big5ç·¨ç¢¼é¡ä¼¼çš„
              Shift-JISæˆ–
              EUC-JPï¼Œæˆ–è€…æ˜¯ä½¿ç”¨UTF-8çš„åŸå§‹ç¢¼æª”æ¡ˆï¼Œä¸¦åœ¨å•Ÿå‹•rubyæ™‚ï¼ŒæŒ‡å®š-Kuï¼Œå¦‚æ­¤æ‰å¯ä»¥å–å¾—å­—ä¸²æ­£ç¢ºçš„ä½å…ƒçµ„é›†åˆã€‚<br>
              <br>
              ç”±æ–¼åœ¨Ruby 1.8ä¸­ï¼Œç¨‹å¼ä¸­æ‰€æœ‰å­—ä¸²éƒ½æ˜¯åŸå§‹ä½å…ƒçµ„é›†åˆï¼Œå› æ­¤åœ¨æœ‰è¨±å¤šå ´åˆï¼Œå¿…é ˆè¦è¦ªè‡ªè™•ç†ç·¨ç¢¼è½‰æ›ã€‚ä¾‹å¦‚åœ¨Ruby
              1.8ä¸­ï¼Œè‹¥ç‚ºUTF-8åŸå§‹ç¢¼æª”æ¡ˆï¼Œå•Ÿå‹•rubyæ™‚æŒ‡å®š-Kuï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby">puts "è‰¯".length<br></code></pre>
            <br>
              ç¨‹å¼æœƒé¡¯ç¤º3è€Œä¸æ˜¯1ï¼Œé€™æ˜¯å› ç‚ºRuby 1.8ä¸­å­—ä¸²çš„<span style="font-family: Courier New,Courier,monospace;">length
                æˆ–size</span>æ–¹æ³•ï¼Œå‚³å›çš„éƒ½æ˜¯ä½å…ƒçµ„é•·åº¦è€Œä¸æ˜¯å­—å…ƒé•·åº¦ï¼Œç‚ºäº†å¾—åˆ°å­—å…ƒé•·åº¦ï¼Œæœ‰å¹¾ç¨®ä¸åŒçš„æ–¹å¼ï¼Œåƒæ˜¯ä½¿ç”¨è¦å‰‡è¡¨ç¤ºå¼
              ï¼ˆRegular Expressionï¼‰æ­é…APIä¾†è™•ç†ã€‚ç¶²è·¯ä¸Šæœ‰ä¸å°‘æ–‡ä»¶åœ¨è¨è«–Ruby
              1.ç·¨ç¢¼æ–¹é¢çš„å•é¡Œï¼Œäº¦æœ‰ä¸å°‘ç¨‹å¼ç¢¼æ”¯æ´ç·¨ç¢¼è½‰æ›ã€‚<br>
              <br>
              æ¥ä¸‹ä¾†è«‡çš„ï¼Œéƒ½æ˜¯Ruby 1.9.2æœ‰é—œä¸­æ–‡ç·¨ç¢¼çš„è™•ç†ã€‚<br>
              <br>
              åœ¨RubyåŸå§‹ç¢¼ä¸­å¦‚æœè¦æ’°å¯«ä¸­æ–‡ï¼Œå¯æ–¼æª”æ¡ˆé–‹é ­ç”¨è¨»è§£æç¤ºç›´è­¯å™¨æª”æ¡ˆç·¨ç¢¥ç‚ºä½•ï¼Œä¾‹å¦‚åœ¨ä½œæ¥­ç³»çµ±é è¨­ç·¨ç¢¼ç‚º
              Big5çš„ç’°å¢ƒï¼Œä½¿ç”¨Big5æ ¼å¼ç·¨è¼¯æª”æ¡ˆï¼Œå¯ä»¥å¦‚ä¸‹ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: Big5<br>puts "å“ˆå›‰! è‰¯è‘›æ ¼!"<br></code></pre>
            <br>
              æª”æ¡ˆä¸€é–‹å§‹çš„è¨»è§£é‚„å¯ä»¥å¯«ç‚ºï¼š<br>
            
            <div style="margin-left: 40px;"><span style="font-weight: bold;"># coding: Big5</span><br>
            </div>
            <br>
              æˆ–å¯«ç‚ºï¼š<br>
            
            <div style="margin-left: 40px;"><span style="font-weight: bold;"># -*- coding: Big5 -*-</span><br>
            </div>
            <br>
              æˆ–å¯«ç‚ºï¼š<br>
            
            <div style="margin-left: 40px;"><span style="font-weight: bold;">#!/usr/bin/env ruby -w</span><br>
              <span style="font-weight: bold;">#
                  encoding: Big5</span><br>
            </div>
            <br>
              å¦‚æœä¸»æ§å°é¡¯ç¤ºç·¨ç¢¼ç‚ºBig5ï¼Œå‰‡åŸ·è¡Œçµæœå¦‚ä¸‹ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          main.rb</span><br>
                        èŠƒo! }é‰’?!<br>
                        <br>
                        <span style="font-weight: bold;">&gt;</span><br>
                      </span></div>
            <br>
            åœ¨Ruby 1.9ä¸­ï¼Œå­—ä¸²çš„<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">size</span>æˆ–<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">length</span>æ–¹
              æ³•ï¼Œå‚³å›çš„æ˜¯å­—å…ƒæ•¸è€Œä¸æ˜¯ä½å…ƒçµ„æ•¸ç›®ã€‚<br>
              <br>
              å¦‚æœåœ¨ä½œæ¥­ç³»çµ±é è¨­ç·¨ç¢¼ç‚ºBig5çš„ç’°å¢ƒï¼Œä½¿ç”¨UTF-8æ ¼å¼ç·¨è¼¯æª”æ¡ˆå¦‚ä¸‹ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>puts "å“ˆå›‰! è‰¯è‘›æ ¼!"<br></code></pre>
            <br>
            å¦‚æœä¸»æ§å°é¡¯ç¤ºç·¨ç¢¼ç‚ºBig5ï¼Œå‰‡åŸ·è¡Œçµæœå¦‚ä¸‹ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          main.rb</span><br>
                        ???! ????<br>
                        <br>
                        <span style="font-weight: bold;">&gt;</span><br>
                      </span></div>
            <br>
             å‡ºç¾äº‚ç¢¼äº†ï¼Ÿ<span style="font-family: Courier New,Courier,monospace;"></span>ç›´
              è­¯å™¨æœƒä½¿ç”¨UTF-8ä¾†è§£é‡‹å­—ä¸²ï¼ˆå¦‚æœæ²’è¨­å®š#encodingï¼Œé è¨­å°±æ˜¯US-ASCIIï¼‰ï¼Œ<span style="font-weight: bold;">å­—
                ä¸²ç·¨ç¢¼</span>é è¨­å°±æœƒæ˜¯UTF-8ï¼Œ<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">STDOUT</span><span style="font-weight: bold;">é è¨­åªæœƒå¿ å¯¦åœ°å°‡å­—ä¸²çš„ä½å…ƒçµ„è¼¸å‡º</span>ï¼Œå¦‚
              æœä½ çš„ä¸»æ§å°ä¸æ˜¯ç”¨UTF-8é¡¯ç¤ºï¼Œé‚£éº¼UTF-8çš„ä½å…ƒçµ„è¼¸å‡ºå°±æœƒæ˜¯äº‚ç¢¼ã€‚å¦‚æœæƒ³è¦å­—ä¸²ä½¿ç”¨UTF-8ï¼Œè€Œ
              è¼¸å‡ºçš„å¤–éƒ¨ç·¨ç¢¼ä½¿ç”¨Big5ï¼Œæ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨å­—ä¸²çš„<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">encode</span>æ–¹
              æ³•ï¼Œå°‡æ–‡å­—ç·¨ç¢¼ç‚ºConsoleçš„ç·¨ç¢¼ï¼Œå†çµ¦<span style="font-family: Courier New,Courier,monospace;">puts</span>ç­‰
              æ–¹æ³•è¼¸å‡ºã€‚ä¾‹å¦‚åœ¨ä¸­æ–‡Windowsä¸­çš„ä¸»æ§å°ï¼Œå¯ä»¥æŒ‡å®šç‚ºBig5ï¼š<br>
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>puts "å“ˆå›‰! è‰¯è‘›æ ¼!".encode("Big5")<br></code></pre>
            <br>
              å¦‚æ­¤åŸ·è¡Œæ™‚å°±å¯ä»¥æ­£ç¢ºçœ‹åˆ°ä¸­æ–‡ï¼Œä¸éé€™æ¨£å¿…é ˆæ¯å€‹å­—ä¸²éƒ½ä½¿ç”¨<span style="font-family: Courier New,Courier,monospace;">encode</span>æ–¹
              æ³•ï¼Œå¦ä¸€å€‹æ–¹æ³•æ˜¯ä½¿ç”¨<span style="font-family: Courier New,Courier,monospace;">STDOUT</span>çš„<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">set_encoding</span>æ–¹
              æ³•ã€‚ä¾‹å¦‚ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>STDOUT.set_encoding("Big5")<br>puts "å“ˆå›‰! è‰¯è‘›æ ¼!"<br></code></pre>
             <br>
              é€™æœƒè¨­å®šSTDOUTçš„<strong>å¤–éƒ¨ç·¨ç¢¼ï¼ˆExternal encodingï¼‰</strong>ç‚ºBig5ï¼Œå¦‚æ­¤åŸ·è¡Œæ™‚æœƒè‡ªå‹•å°‡
              å­—ä¸²ç·¨ç¢¼è½‰æ›ç‚ºæŒ‡å®šçš„<span style="font-family: Courier New,Courier,monospace;">STDOUT</span>å¤–
              éƒ¨ç·¨ç¢¼ï¼Œå°±å¯ä»¥æ­£ç¢ºé¡¯ç¤ºä¸­æ–‡ï¼Œé‚„æœ‰æ–¹æ³•æ˜¯åŸ·è¡Œrubyæ™‚ï¼ŒæŒ‡å®š<span style="font-weight: bold;">-EBig5:UTF-8</span>ï¼Œ-E
              æ˜¯æŒ‡Encodingï¼Œå†’è™Ÿå‰æ˜¯æŒ‡å®šå¤–éƒ¨ç·¨ç¢¼ï¼Œå†’è™Ÿå¾Œæ˜¯æŒ‡å®š<strong>å…§éƒ¨ç·¨ç¢¼ï¼ˆInternal encodingï¼‰</strong>ã€‚
              ä¾‹å¦‚ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          -EBig5:UTF-8 main.rb</span><br>
                        èŠƒo! }é‰’?!<br>
                        <br>
                        <span style="font-weight: bold;">&gt;</span><br>
                      </span></div>
            <br>
              åˆ°é€™é‚Šå¯ä»¥çŸ¥é“ï¼Œåœ¨Rubyä¸­æœƒæœ‰ä¸‰å€‹é—œæ–¼ç·¨ç¢¼çš„è³‡è¨Šï¼Œå…§éƒ¨ç·¨ç¢¼ã€å­—ä¸²ç·¨ç¢¼èˆ‡å¤–éƒ¨ç·¨ç¢¼ã€‚ä¸Šä¾‹ä¹Ÿå¯ä»¥æ”¹å¯«ç‚ºï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>puts "å“ˆå›‰! è‰¯è‘›æ ¼!"<br></code></pre>
             <br>
              åŸ·è¡Œæ™‚å¯ä»¥å¦‚ä¸‹æŒ‡å®šï¼Œå°±å¯ä»¥é¡¯ç¤ºä¸­æ–‡ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          -EBig5:UTF-8 main.rb</span><br>
                        èŠƒo! }é‰’?!<br>
                        <br>
                        <span style="font-weight: bold;">&gt;</span><br>
                      </span></div>
            <br>
              è‹¥æœ‰ä»¥ä¸‹ç¨‹å¼ï¼š<br>
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>puts STDOUT.internal_encoding<br>puts STDOUT.external_encoding<br>puts "å“ˆå›‰! è‰¯è‘›æ ¼!".encoding<br></code></pre>
            <br>
              åŸ·è¡Œæ™‚è‹¥æ²’æœ‰æŒ‡å®š-EBig5:UTF-8é¸é …ï¼Œ<span style="font-family: Courier New,Courier,monospace;">STDOUT</span>ä¸¦
              æ²’æœ‰å¤–éƒ¨ç·¨ç¢¼èˆ‡å…§éƒ¨ç·¨ç¢¼è³‡è¨Šï¼Œè€Œå­—ä¸²ç·¨ç¢¼æœƒæ˜¯UTF-8ï¼ŒåŸ·è¡Œæ™‚è‹¥æœ‰æŒ‡å®š-EBig5:UTF-8é¸é …ï¼Œ<span style="font-family: Courier New,Courier,monospace;">STDOUT</span>å¤–
              éƒ¨ç·¨ç¢¼æœƒæ˜¯Big5ï¼Œå…§éƒ¨ç·¨ç¢¼æœƒæ˜¯UTF-8ï¼Œè€Œå­—ä¸²ç·¨ç¢¼æœƒæ˜¯UTF-8ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          main.rb<br>
                          <br>
                          <br>
                        </span>UTF-8<br>
                        <span style="font-weight: bold;"><br>
                          &gt;ruby -EBig5:UTF-8 main.rb<br>
                        </span> UTF-8<br>
                        Big5<br>
                        UTF-8<span style="font-weight: bold;"><br>
                          <br>
                          &gt;</span><span style="font-weight: bold;"></span><br>
                      </span></div>
            <br>
            è‹¥ä½¿ç”¨<span style="font-family: Courier New,Courier,monospace;">STDOUT.set_encoding("Big5",
                "UTF-8")</span>ï¼Œ<span style="font-family: Courier New,Courier,monospace;">STDOUT</span>å¤–
              éƒ¨ç·¨ç¢¼æœƒæ˜¯Big5ï¼Œå…§éƒ¨ç·¨ç¢¼æœƒæ˜¯UTF-8ã€‚å¯ä»¥ä½¿ç”¨å­—ä¸²çš„<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">encoding</span>å–
              å¾—å­—ä¸²ç·¨ç¢¼ï¼Œä½¿ç”¨<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">bytesize</span>å–
              å¾—å­—ä¸²ä½¿ç”¨çš„ä½å…ƒçµ„é•·åº¦ï¼Œä½¿ç”¨<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">bytes</span>å–
              å¾—ä½å…ƒçµ„ã€‚ä¾‹å¦‚ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>text = "å“ˆå›‰"<br>puts text.encoding<br>puts text.bytesize<br>puts "%X %X %X %X %X %X" % text.bytes.to_a, "\n"<br><br>text = text.encode("Big5")<br>puts text.encoding<br>puts text.bytesize<br>puts "%X %X %X %X" % text.bytes.to_a      </code></pre>
            <br>
            åŸ·è¡Œçµæœå¦‚ä¸‹ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          main.rb<br>
                        </span> UTF-8<br>
                        6<br>
                        E5 93 88 E5 9B 89<br>
                        <br>
                        Big5<br>
                        4<br>
                        AB A2 C5 6F<span style="font-weight: bold;"><br>
                        </span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><br>
                        &gt;<br>
                      </span></div>
            <br>
            åœ¨irbä¸­ï¼Œæœƒä½¿ç”¨ä½œæ¥­ç³»çµ±é è¨­ç·¨ç¢¼ä½œç‚ºå­—ä¸²ç·¨ç¢¼ï¼Œå¯ä»¥ä½¿ç”¨<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">force_encoding</span>ä¾†
              æ”¹è®Šç·¨ç¢¼ï¼Œä½†ä¸è®Šå‹•åŸå­—ä¸²ä½å…ƒçµ„å…§å®¹ï¼Œå¯ä»¥ä½¿ç”¨<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">valid_encoding?</span>ä¾†
              çœ‹çœ‹ä½å…ƒçµ„èˆ‡ç·¨ç¢¼æ˜¯å¦åˆæ³•ï¼Œå¯ä»¥ä½¿ç”¨<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">Encoding.compatible?</span>ä¾†
              æ¸¬è©¦å…©å€‹å­—ä¸²ç·¨ç¢¼æ˜¯å¦ç›¸å®¹ï¼Œå¦‚æœä¸ç›¸å®¹å°±å‚³å›<span style="font-family: Courier New,Courier,monospace;">nil</span>ï¼Œ
              ä¹Ÿå°±ä¸å¯ä»¥ä½¿ç”¨<span style="font-family: Courier New,Courier,monospace;">+</span>ä¸²
              æ¥åœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;
                          text = "èŠƒo"<br>
                        </span>=&gt; "èŠƒo"<span style="font-weight: bold;"><br>
                          &gt;&gt; text2 = "èŠƒo"<br>
                        </span>=&gt; "èŠƒo"<span style="font-weight: bold;"><br>
                          &gt;&gt; text.encoding.name<br>
                        </span>=&gt; "Big5"<span style="font-weight: bold;"><br>
                          &gt;&gt; text2.encoding.name<br>
                        </span>=&gt; "Big5"<span style="font-weight: bold;"><br>
                          &gt;&gt; Encoding.compatible?(text, text2)<br>
                        </span>=&gt; #&lt;Encoding:Big5&gt;<span style="font-weight: bold;"><br>
                          &gt;&gt; text.bytesize<br>
                        </span>=&gt; 4<span style="font-weight: bold;"><br>
                          &gt;&gt; text.force_encoding("UTF-8")<br>
                        </span>=&gt; "\xAB\xA2\xC5o"<span style="font-weight: bold;"><br>
                          &gt;&gt; text.encoding.name<br>
                        </span>=&gt; "UTF-8"<span style="font-weight: bold;"><br>
                          &gt;&gt; text.bytesize<br>
                        </span>=&gt; 4<span style="font-weight: bold;"><br>
                          &gt;&gt; Encoding.compatible?(text, text2)<br>
                        </span>=&gt; nil<span style="font-weight: bold;"><br>
                          &gt;&gt; text + text2<br>
                        </span>Encoding::CompatibilityError: incompatible
                        character encodings: UTF-8 and Big5<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from (irb):23<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from
                        C:/Winware/Ruby192/bin/irb:12:in `&lt;main&gt;'<span style="font-weight: bold;"><br>
                          &gt;&gt; text.valid_encoding?<br>
                        </span>=&gt; false<span style="font-weight: bold;"><br>
                          &gt;&gt; text2.valid_encoding?<br>
                        </span>=&gt; true<span style="font-weight: bold;"><br>
                          &gt;&gt;</span><br>
                      </span></div>
            <br>
            åœ¨Ruby 1.8ä¸­ï¼Œå­—ä¸²çš„<span style="font-family: Courier New,Courier,monospace;">each</span>æ–¹
              æ³•å‚³å›çš„æ˜¯ä½å…ƒçµ„ï¼Œåœ¨Ruby 1.9ä¸­ï¼Œ<span style="font-family: Courier New,Courier,monospace;">each</span>å·²
              ç¶“è¢«ç§»é™¤ï¼Œæ”¹ç”¨æ›´æ˜ç¢ºçš„<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">each_line</span>ã€<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">each_byte</span>ã€<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">each_char</span>ç­‰
              æ–¹æ³•ã€‚<br>
            <br>
            åœ¨é–‹å•Ÿæª”æ¡ˆæ™‚ï¼Œå¦‚æœæ²’æœ‰æŒ‡å®šæª”æ¡ˆç‰©ä»¶çš„å¤–éƒ¨ç·¨ç¢¼èˆ‡å…§éƒ¨ç·¨ç¢¼ï¼Œå‰‡æª”æ¡ˆç‰©ä»¶å¤–
              éƒ¨ç·¨ç¢¼æœƒä½¿ç”¨ä½œæ¥­ç³»çµ±é è¨­ç·¨ç¢¼ï¼Œæª”æ¡ˆç‰©ä»¶å–å¾—çš„å­—ä¸²ä¹Ÿæœƒä½¿ç”¨å¤–éƒ¨ç·¨ç¢¼ï¼Œæª”
              æ¡ˆç‰©ä»¶å…§éƒ¨ç·¨ç¢¼å‰‡æ²’æœ‰è¨­å®šã€‚ä¾‹å¦‚ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># Encoding: UTF-8<br>print "File name: "<br>name = gets.chomp<br>file = open(name, "r")<br>puts file.external_encoding<br>puts file.internal_encoding<br>puts file.gets.encoding<br>puts "å“ˆå›‰".encoding<br>file.close<br></code></pre>
            <br>
            åŸ·è¡Œçµæœå¦‚ä¸‹ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          main.rb<br>
                        </span>File name: main.rb<br>
                        Big5<br>
                        <br>
                        Big5<br>
                        UTF-8<br>
                        <br>
                        &gt;<br>
                      </span></div>
            <br>
            å¯ä»¥åœ¨è®€å…¥æª”æ¡ˆæ™‚ï¼ŒæŒ‡å®šæª”æ¡ˆç‰©ä»¶å¤–éƒ¨ç·¨ç¢¼ï¼Œå–å¾—çš„å­—ä¸²ç·¨ç¢¼èˆ‡æª”
              æ¡ˆç‰©ä»¶å¤–éƒ¨ç·¨ç¢¼ç›¸åŒã€‚ä¾‹å¦‚ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># Encoding: UTF-8<br>print "File name: "<br>name = gets.chomp<br>file = open(name, <span style="font-weight: bold;">"r:big5"</span>)<br>puts file.external_encoding<br>puts file.internal_encoding<br>puts file.gets.encoding<br>puts "å“ˆå›‰".encoding<br>file.close<br></code></pre>
            <br>
              ä¹Ÿå¯ä»¥åŒæ™‚æŒ‡å®šæª”æ¡ˆç‰©ä»¶å¤–éƒ¨ç·¨ç¢¼èˆ‡å…§éƒ¨ç·¨ç¢¼ï¼Œå¦‚æœæŒ‡å®šäº†æª”æ¡ˆç‰©ä»¶å…§éƒ¨ç·¨ç¢¼ï¼Œå‰‡å–å¾—çš„å­—ä¸²ç·¨ç¢¼èˆ‡æª”æ¡ˆç‰©ä»¶å…§éƒ¨ç·¨ç¢¼ç›¸åŒï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># Encoding: UTF-8<br>print "File name: "<br>name = gets.chomp<br>file = open(name, <span style="font-weight: bold;">"r:big5:utf-8"</span>)<br>puts file.external_encoding<br>puts file.internal_encoding<br>puts file.gets.encoding<br>puts "å“ˆå›‰".encoding<br>file.close<br></code></pre>
            <br>
            åŸ·è¡Œçµæœå¦‚ä¸‹ï¼š<br>
            
            <div class="cmd"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;ruby
                          main.rb<br>
                        </span>File name: main.rb<br>
                        Big5<br>
                        UTF-8<br>
                        UTF-8<br>
                        UTF-8<br>
                        <br>
                        &gt;<br>
                      </span></div>
            <br>
            å¦‚æœæ˜¯å¯«å‡ºè³‡æ–™è‡³æª”æ¡ˆï¼Œé è¨­å°±æ˜¯å¿ å¯¦åœ°å°‡å­—ä¸²çš„ä½å…ƒçµ„è³‡æ–™å¯«è‡³æª”æ¡ˆä¸­ï¼Œä¹Ÿå¯ä»¥æŒ‡è¼¸å‡ºè‡³æª”æ¡ˆæ™‚çš„ç·¨ç¢¼ï¼Œä¾‹å¦‚ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>print "File name: "<br>name = gets.chomp<br>open(name, <span style="font-weight: bold;">"w:big5"</span>) do |file|<br>    text = "å“ˆå›‰"<br>    puts text.encoding          # é¡¯ç¤º UTF-8<br>    puts file.external_encoding # é¡¯ç¤º Big5<br>    file.print text<br>end<br></code></pre>
            <br>
              å¦‚ä¸ŠæŒ‡å®šä¹‹å¾Œï¼Œé›–ç„¶å­—ä¸²ç·¨ç¢¼ç‚ºUTF-8ï¼Œä½†è¼¸å‡ºè‡³æª”æ¡ˆæ™‚æœƒç·¨ç¢¼ç‚ºBig5ï¼Œä½ æ‰“é–‹æª”æ¡ˆæ™‚ï¼Œçœ‹åˆ°çš„å°±æœƒæ˜¯Big5ç·¨ç¢¼çš„æ­£ç¢ºä¸­æ–‡ï¼Œä¹Ÿå¯ä»¥åŒæ™‚
              æŒ‡å®šå¤–éƒ¨ç·¨ç¢¼èˆ‡å…§éƒ¨ç·¨ç¢¼ã€‚ä¾‹å¦‚ï¼š<br>
            
            <ul>
              <li>main.rb</li>
            </ul>
            <pre class="prettyprint"><code lang="ruby"># encoding: UTF-8<br>print "File name: "<br>name = gets.chomp<br>open(name, <span style="font-weight: bold;">"w:big5:utf-8"</span>) do |file|<br>    text = "å“ˆå›‰"<br>    puts text.encoding          # é¡¯ç¤º UTF-8<br>    puts file.external_encoding # é¡¯ç¤º Big5<br>    puts file.internal_encoding # é¡¯ç¤º UTF-8<br>    file.print text<br>end      </code></pre>
            <br>
            å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¨­å®šè¼¸å…¥è¼¸å‡ºç‰©ä»¶çš„é è¨­å¤–éƒ¨ç·¨ç¢¼èˆ‡å…§éƒ¨ç·¨ç¢¼ï¼š<br>
            
            <div style="margin-left: 40px;"><span style="font-weight: bold;">Encoding.default_external =
                  Encoding.find("Big5")</span><br>
              <span style="font-weight: bold;">Encoding.default_internal
                  = Encoding.find("UTF-8")</span><br>
            </div>
            <br>
            å…ˆå‰åŸ·è¡ŒrubyæŒ‡ä»¤æ™‚ä½¿ç”¨-EBig5:UTF-8çš„é¸é …ï¼Œå…¶å¯¦ä¹Ÿå°±æ˜¯åœ¨æŒ‡å®šè¼¸å…¥è¼¸å‡ºç‰©ä»¶çš„å¤–éƒ¨ç·¨ç¢¼èˆ‡å…§éƒ¨ç·¨ç¢¼ã€‚<br>
              <br>
              å¦‚æœæƒ³çŸ¥é“Ruby 1.9æ‰€æ”¯æ´çš„ç·¨ç¢¼ï¼Œå¯ä»¥é€é<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">Encoding.name_list</span>å¾—
              çŸ¥ã€‚<br>
              <br>
              <br>
            <br>




<br><br><div class="ad336-280" style="text-align: center;"><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 æ–°ç‰ˆå‹å»£å‘Š 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- è‡ªå‹•å¤§å°å›æ‡‰ç›¸ç¬¦å…§å®¹ --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></article></main></div></body>
<script src="http://openhome.cc/Gossip/js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
