<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>





  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">





  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">





  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">





  
  
  
  
  
  <title>DataInputStream、 DataOutputStream</title>
</head>


<body>





<h3><a href="../index.html">From
Gossip@Openhome</a></h3>





<h1><a href="index.html">Java Gossip: DataInputStream、DataOutputStream</a></h1>


<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">


  <tbody>


    <tr>


      <td style="width: 676px; vertical-align: top;"> <small>DataInputStream、DataOutputStream可提供一些對Java基本資料型態寫入的方法，像是讀寫int、double、
boolean等的方法，由於Java的資料型態大小是規定好的，在寫入或讀出這些基本資料型態時，就不用擔心不同平台間資料大小不同的問題。<br>

      <br>


這邊還是舉檔案存取來進行說明，有時候您只是要儲存一個物件的成員資料，而不是整個物件的資訊，成員資料的型態假設都是Java的基本資料型態，您不必要
使用Object輸入、輸出相關串流物件，而可以使用DataInputStream、DataOutputStream來寫入或讀出資料，下面這個程式
是個簡單的示範：</small>
      <br>





      
      <ul>

        <li> Student.java
  </li>

      
      </ul>



      
      <pre>package onlyfun.caterpillar;<br> <br>public class Student  {<br>    private String name;<br>    private int score; <br> <br>    public Student() { <br>        name = "N/A"; <br>    } <br> <br>    public Student(String name, int score) { <br>        this.name = name; <br>        this.score = score; <br>    } <br> <br>    public void setName(String name) {<br>        this.name = name;<br>    }<br>    <br>    public void setScore(int score) {<br>        this.score = score;<br>    }<br> <br>    public String getName() { <br>        return name; <br>    } <br> <br>    public int getScore() { <br>        return score; <br>    } <br> <br>    public void showData() { <br>        System.out.println("name: " + name); <br>        System.out.println("score: " + score); <br>    } <br>} <br></pre>



      <br>



      
      <ul>

        <li> DataStreamDemo.java
  </li>

      
      </ul>



      
      <pre>package onlyfun.caterpillar;<br> <br>import java.io.*;<br> <br>public class DataStreamDemo {<br>    public static void main(String[] args) {<br>        Student[] students = {new Student("Justin", 90), <br>                              new Student("momor", 95), <br>                              new Student("Bush", 88)}; <br>        try { <br>            DataOutputStream dataOutputStream = <br>                new DataOutputStream( <br>                         new FileOutputStream("data.dat")); <br>            <br>            for(Student student : students) { <br>               dataOutputStream.writeUTF(student.getName()); <br>               dataOutputStream.writeInt(student.getScore()); <br>            } <br>            dataOutputStream.flush(); <br>            dataOutputStream.close(); <br>            <br>            DataInputStream dataInputStream = <br>                new DataInputStream( <br>                         new FileInputStream("data.dat")); <br>             <br>            for(int i = 0; i &lt; students.length; i++) { <br>                String name = dataInputStream.readUTF(); <br>                int score = dataInputStream.readInt(); <br>                students[i] = new Student(name, score); <br>                students[i].showData(); <br>            } <br>            dataInputStream.close(); <br>        } <br>        catch(IOException e) { <br>            e.printStackTrace(); <br>        } <br>    }<br>} <br></pre>



      <br>

      <small>
這個程式在寫入檔案時，只提取物件的成員資料，而在讀出時將這些資料讀出，並將讀回的資料設定給一個實例，是物件資料還原的一種方式。</small> </td>


      <td style="width: 250px; text-align: center; vertical-align: top;"><!-- adsense for content--><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型 160 x 600 廣告 --><ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="3747048883"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><br><br><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型 160 x 600 廣告 --><ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="3747048883"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><br><br><br><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型 160 x 600 廣告 --><ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="3747048883"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><br><br><br> <!-- adsense for content end --></td>


    </tr>


  
  </tbody>
</table>


<br>

<br>





<br>


<br>





<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
</body>
</html>
