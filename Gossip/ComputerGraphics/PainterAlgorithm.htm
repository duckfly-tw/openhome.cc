<!doctype html><html lang="zh-tw">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="考慮一個CH4分子模型如下所示 ：


      









      









如果您旋轉這個分子模型，則在某些角度時，中間的C原...">

<meta property="og:locale" content="zh_TW">
<meta property="og:title" content="畫家深度排序">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openhome.cc/Gossip/ComputerGraphics/PainterAlgorithm.htm">
<meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
<meta property="og:site_name" content="OPENHOME.CC">
<meta property="og:description" content="考慮一個CH4分子模型如下所示 ：


      









      









如果您旋轉這個分子模型，則在某些角度時，中間的C原...">


    <title>畫家深度排序</title>

<link rel="stylesheet" href="../css/pure-0.6.0/pure-min.css">

    <!--[if lte IE 8]>
        <link rel="stylesheet" href="../css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="../css/layouts/side-menu.css">
    <!--<![endif]-->
  

     <link rel="stylesheet" href="../css/caterpillar.css">
     <script async src="../google-code-prettify/run_prettify.js"></script>
<!-- 網頁層級廣告 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle =window.adsbygoogle || []).push({google_ad_client: "ca-pub-9750319131714390",enable_page_level_ads: true });</script></head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="PainterAlgorithm.htm#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon --><span></span>
        
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="index.html">回電腦圖學</a>
            <ul class="pure-menu-list">
                <br><div class="social" style="text-align: center;"><a href="http://twitter.com/caterpillar"><img title="Twitter" alt="Twitter" src="../images/twitter.png"></a> <a href="http://www.facebook.com/openhome.cc"><img title="Facebook" alt="Facebook" src="../images/facebook.png"></a> </div><br><div id="search box"><script>(function() {var cx = 'partner-pub-9750319131714390:3926766884';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();</script><gcse:searchbox-only></gcse:searchbox-only></div><br><div class="ad" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 2015 新版型 160 x 600 廣告 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-9750319131714390"
     data-ad-slot="3747048883"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></li>
            </ul>
        </div>
    </div>

    <main id="main">
        <header class="header">
            <h1>畫家深度排序</h1>
        </header>

        <article class="content"><br><div class="ad-3" style="text-align: center;"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型回應式廣告 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="7104125683" data-ad-format="auto"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div> 
            








考慮一個CH4分子模型如下所示 ：<br>


      <div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" alt="" src="images/painterAlgorithm-1.jpg" /></div></div><br>









      <br>









如果您旋轉這個分子模型，則在某些角度時，中間的C原子有時會部份或完全遮蓋住外面的一個H分子，這是由於它們在深度上的不同所造成的遮蓋效果。<br>


      <br>


畫家演算法可用來解決不同深度的繪圖效果，其實簡單的說，就是將遠方的物體圖形先進行繪製，然後再繪製近方的圖形，如此後面繪製的圖形就會遮蓋住之前繪製的圖形，例如： <br>


      <div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" alt="" src="images/painterAlgorithm-2.jpg" /></div></div><br>


      <br>


      <br>


所以我在進行繪圖之前，必須先對要繪製的圖形之Z分量進行深度排序的動作，在物體的移動、旋轉等動作之運算完成之後，將所有的物體資訊儲存至陣列中，然後對這個陣列進行排序，之後依序繪製出陣列中的圖形。<br>


      <br>


由於必須額外進行排序的動作，所以在物體的數目多時，使用畫家演算法會耗用較多的運算資源與時間，所以通常會依據繪製對象先作一些處理，然後再進行畫家演算法。<br>


      <br>


例如在凹多面體的繪製時，由於圖形有凹陷的面，單先使用法線向量判定法來繪製圖形，某些面可能被更前面的平面遮蓋而造成圖形的錯亂（與平面的繪製順序有關），例如下面這個圖形： <br>


      <div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" alt="" src="images/painterAlgorithm-3.jpg" /></div></div><br>


      <br>


在凹多面體的繪製中，我們可以應用畫家演算法，但為了加快處理的速度，我們可以先應用法線向量判定法，先將隱藏面去除，再依據所剩下的可視平面之重心來進行深度排序的動作：<br>


      
      
      <ol>

        <li>先用法線向量判定法去除隱藏面</li>

        <li>再用深度排序進行畫家演算法</li>

      
      </ol>

      
      <br>


畫家演算法並無法處理所有的深度問題，例如在有圖形貫穿或交疊時，就不能使用畫家演算法，例如下面這兩個圖形並無法使用畫家演算法來實現： <br>










      <div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" alt="" src="images/painterAlgorithm-4.jpg" /></div></div><br>


      <br>


像以上的圖形有很多技巧可以解決，其中最簡單的一種就是補貼圖，先依畫家演算法處理，然後在必要的地方補上片段圖形（有些人戲稱為作弊）例如 ： <br>


      <div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" alt="" src="images/painterAlgorithm-5.jpg" /></div></div><br>


      <br>


      <br>


有時會在報章雜誌上看到一些的不合理圖形，其中一些圖形也是使用這種補貼圖的方式產生，例如：<br>


      <div class="pure-g"><div class="pure-u-1"><img class="pure-img-responsive" alt="" src="images/painterAlgorithm-6.jpg" /></div></div><br>


      <br>


      <br>


至於在進行深度排序時，要使用何種排序方式呢？在圖形數量不多時，常見的簡單排序像是氣泡排序法就足夠了，當然您也可以試試其它的高等排序來改進效能。<br><br><div class="ad336-280" style="text-align: center;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 2015 新版型廣告 336 x 280 --><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-9750319131714390" data-ad-slot="9976409681"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><br><div class="recommend" style="text-align: center;"><hr><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 自動大小回應相符內容 --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9750319131714390" data-ad-slot="4953478487" data-ad-format="autorelaxed"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></article></main></div></body>
<script src="../js/ui.js"></script>
</html>
<div class="analytics"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QVQQYFSC8J"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-QVQQYFSC8J');</script></div>
